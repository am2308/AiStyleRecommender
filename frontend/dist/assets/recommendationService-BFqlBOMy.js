import{C as t,c as a,b as n,s as r,d as s}from"./index-BDHgIuTY.js";const e={async getOutfitRecommendations(e){var c;try{const c=`${t.RECOMMENDATIONS}_${e||"all"}`,o=a(c);if(o)return setTimeout(async()=>{try{const t=await n.get("/recommendations",{params:{occasion:e}});JSON.stringify(t.data)!==JSON.stringify(o)&&r(c,t.data,s.SHORT)}catch(t){}},3e3),o;const i=await n.get("/recommendations",{params:{occasion:e}});return r(c,i.data,s.SHORT),i.data}catch(o){if(403===(null==(c=o.response)?void 0:c.status))throw o;return{recommendations:[],wardrobeAnalysis:{strengths:[],gaps:[],suggestions:[]}}}},async getRecommendationsForItems(e,c){try{const o=`${t.RECOMMENDATIONS}_items_${e.join("_")}_${c||"all"}`,i=a(o);if(i)return i;const m=await n.post("/recommendations/for-items",{itemIds:e,occasion:c});return r(o,m.data,s.SHORT),m.data}catch(o){throw o}},async getMarketplaceItems(e,c,o,i){try{const m=`${t.MARKETPLACE_ITEMS}_${e||"all"}_${c||"all"}_${o||"all"}_${(null==i?void 0:i.min)||0}_${(null==i?void 0:i.max)||0}`,l=a(m);if(l)return l;const d={};e&&(d.category=e),c&&(d.color=c),o&&(d.occasion=o),i&&(d.minPrice=i.min,d.maxPrice=i.max);const g=await n.get("/marketplace",{params:d});return r(m,g.data,s.MEDIUM),g.data}catch(m){throw m}},async searchMarketplace(t,a,r,s){try{const e={q:t};a&&(e.category=a),r&&(e.minPrice=r.min,e.maxPrice=r.max),s&&(e.sources=s.join(","));return(await n.get("/marketplace/search",{params:e})).data}catch(e){throw e}},async getSmartShoppingList(e){try{const c=`${t.MARKETPLACE_ITEMS}_shopping_list_${(null==e?void 0:e.join("_"))||"all"}`,o=a(c);if(o)return o;const i={};e&&e.length>0&&(i.occasions=e.join(","));const m=await n.get("/marketplace/shopping-list",{params:i});return r(c,m.data,s.MEDIUM),m.data}catch(c){throw c}},async getTrendingItems(e){try{const c=`${t.TRENDING_ITEMS}_${e||"all"}`,o=a(c);if(o)return o;const i={};e&&(i.category=e);const m=await n.get("/marketplace/trending",{params:i});return r(c,m.data,s.MEDIUM),m.data}catch(c){throw c}}};export{e as r};
