import{u as e,j as s,m as r,c as l,s as t,t as a,Z as i,r as n,v as d,o,T as c,a as m}from"./vendor-ui-DQARcV5T.js";import{r as x}from"./vendor-react-CLKTprKu.js";import{u,F as p}from"./index-BDHgIuTY.js";import{s as h,S as g}from"./SubscriptionModal-BhzRrSag.js";import"./vendor-three-D8-qaPKY.js";const b=["Very Fair","Fair","Light","Medium","Tan","Deep","Very Deep"],y=["Pear","Apple","Hourglass","Rectangle","Inverted Triangle"],j=["Casual","Business","Formal","Bohemian","Minimalist","Trendy","Classic"],f=()=>{const{user:f,updateProfile:v}=u(),[N,w]=x.useState(!1),[S,k]=x.useState(null),[T,P]=x.useState(null),[D,F]=x.useState(!1),[C,M]=x.useState(!0),{register:A,handleSubmit:L,formState:{errors:U}}=e({defaultValues:{name:(null==f?void 0:f.name)||"",skinTone:(null==f?void 0:f.skinTone)||"",bodyType:(null==f?void 0:f.bodyType)||"",preferredStyle:(null==f?void 0:f.preferredStyle)||""}});x.useEffect(()=>{q()},[]);const q=async()=>{try{M(!0);const e=await h.getStatus();k(e.subscription),P(e.access)}catch(e){}finally{M(!1)}};return s.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[s.jsx(p,{}),s.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[s.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-white/20",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:s.jsx(l,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Style Profile Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Personalize your profile for better outfit recommendations"})]})]})}),s.jsxs("form",{onSubmit:L(async e=>{try{w(!0),await v(e)}catch(s){}finally{w(!1)}}),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{...A("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",placeholder:"Enter your full name"}),U.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.name.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"skinTone",className:"block text-sm font-medium text-gray-700",children:"Skin Tone"}),s.jsxs("select",{...A("skinTone",{required:"Please select your skin tone"}),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[s.jsx("option",{value:"",children:"Select your skin tone"}),b.map(e=>s.jsx("option",{value:e,children:e},e))]}),U.skinTone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.skinTone.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bodyType",className:"block text-sm font-medium text-gray-700",children:"Body Type"}),s.jsxs("select",{...A("bodyType",{required:"Please select your body type"}),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[s.jsx("option",{value:"",children:"Select your body type"}),y.map(e=>s.jsx("option",{value:e,children:e},e))]}),U.bodyType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.bodyType.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"preferredStyle",className:"block text-sm font-medium text-gray-700",children:"Preferred Style"}),s.jsxs("select",{...A("preferredStyle",{required:"Please select your preferred style"}),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[s.jsx("option",{value:"",children:"Select your preferred style"}),j.map(e=>s.jsx("option",{value:e,children:e},e))]}),U.preferredStyle&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.preferredStyle.message})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(r.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:N,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg disabled:opacity-50",children:[s.jsx(t,{size:18}),s.jsx("span",{children:N?"Saving...":"Save Profile"})]})})]})]}),s.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-white/20",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:s.jsx(a,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription & Usage"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage your subscription and track your usage"})]})]})}),s.jsx("div",{className:"p-6",children:C?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:s.jsx(a,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(e=>{if(!e)return"Free Trial";return{"1_month":"1 Month Premium","3_months":"3 Months Premium","6_months":"6 Months Premium","1_year":"1 Year Premium"}[e]||e})((null==S?void 0:S.plan)??null)}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"active":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"expired":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}})((null==S?void 0:S.status)||"free")}`,children:(e=>{switch(e){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";default:return"Free Trial"}})((null==S?void 0:S.status)||"free")}),(null==S?void 0:S.endDate)&&"active"===S.status&&s.jsxs("span",{className:"text-sm text-gray-600",children:["â€¢ Expires ",new Date(S.endDate).toLocaleDateString()]})]})]})]}),"active"!==(null==S?void 0:S.status)&&s.jsx(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>F(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:"Upgrade Now"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(i,{className:"w-5 h-5 text-blue-600"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Recommendations Usage"})]}),"active"===(null==S?void 0:S.status)?s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Unlimited"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Premium subscription active"})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:(null==T?void 0:T.remaining)||0}),s.jsxs("span",{className:"text-sm text-gray-600",children:["of ",(null==S?void 0:S.freeRecommendationsLimit)||3," remaining"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:((null==T?void 0:T.remaining)||0)/((null==S?void 0:S.freeRecommendationsLimit)||3)*100+"%"}})}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(null==S?void 0:S.recommendationsUsed)||0," recommendations used"]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(n,{className:"w-5 h-5 text-green-600"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Account Information"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Member since"}),s.jsx("p",{className:"font-medium",children:(null==f?void 0:f.createdAt)?new Date(f.createdAt).toLocaleDateString():"N/A"})]}),(null==S?void 0:S.startDate)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subscription started"}),s.jsx("p",{className:"font-medium",children:new Date(S.startDate).toLocaleDateString()})]})]})]})]}),"active"===(null==S?void 0:S.status)&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Subscription Management"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:()=>F(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(d,{size:16}),s.jsx("span",{children:"Change Plan"})]}),s.jsx("button",{onClick:async()=>{if(window.confirm("Are you sure you want to cancel your subscription?"))try{await h.cancel(),q()}catch(e){}},className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50 transition-colors",children:"Cancel Subscription"})]})]}),"active"!==(null==S?void 0:S.status)&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(i,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900",children:"Free Trial Limitations"}),s.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["You have ",(null==T?void 0:T.remaining)||0," free recommendations remaining. Upgrade to Premium for unlimited outfit suggestions and smart shopping features."]}),s.jsx("button",{onClick:()=>F(!0),className:"mt-3 text-sm font-medium text-yellow-900 hover:text-yellow-700 underline",children:"View Premium Plans â†’"})]})]})})]})})]}),s.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-white/20",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:s.jsx(o,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Style Achievements"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track your fashion journey milestones"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg p-4 text-center",children:[s.jsx(c,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Style Explorer"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile"}),s.jsx("div",{className:"mt-2 w-full bg-purple-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full w-full"})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-lg p-4 text-center",children:[s.jsx(m,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Wardrobe Builder"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Add 10 items to wardrobe"}),s.jsx("div",{className:"mt-2 w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full w-3/4"})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg p-4 text-center",children:[s.jsx(a,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Style Master"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get 50 recommendations"}),s.jsx("div",{className:"mt-2 w-full bg-green-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full w-1/4"})})]})]})})]}),s.jsx(g,{isOpen:D,onClose:()=>F(!1),onSuccess:()=>{F(!1),q()}})]})]})};export{f as default};
