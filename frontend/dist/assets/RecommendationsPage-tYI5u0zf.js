import{j as e,c as s,i as t,D as a,A as r,m as i,R as l,Z as n,d as o,P as c,K as d,N as m,a as x,o as h,Q as p,T as u,B as g,W as j,p as b,q as f,Y as y,_ as w,$ as v,a0 as N,a1 as S,a2 as k,r as C,a3 as T,C as P,a4 as O,a5 as I,a6 as D,a7 as M,a8 as A,z as $,t as R,a9 as G,g as L,h as F,aa as E}from"./vendor-ui-DQARcV5T.js";import{r as B,e as W}from"./vendor-react-CLKTprKu.js";import{r as Y}from"./recommendationService-BFqlBOMy.js";import{f as z,g as H,a as U,u as V}from"./index-BDHgIuTY.js";import{S as q}from"./SubscriptionModal-BhzRrSag.js";import{C as J,E as _,b as Q,O as Z,T as K,R as X,u as ee,H as se,M as te,d as ae,V as re}from"./vendor-three-D8-qaPKY.js";import{P as ie}from"./PhotoTryOnModal-BmjVReUn.js";import"./vendor-ar-CQ8MbuXN.js";import"./index-B_NMLkog.js";const le=({skinColors:s,bodyMeasurements:t,outfitItems:a,pose:r})=>{const i=B.useRef(null),l=B.useRef({}),[n,o]=B.useState({}),[c,d]=B.useState({});B.useEffect(()=>{const e=new K;return e.crossOrigin="anonymous",a.forEach(s=>{if(s.imageUrl&&!l.current[s.id]){const t=z(s.imageUrl);e.load(t,e=>{e.wrapS=X,e.wrapT=X,l.current[s.id]=e,o(e=>({...e,[s.id]:!0})),d(e=>({...e,[s.id]:!1}))},void 0,t=>{d(e=>({...e,[s.id]:!0}));const a=H(s.category);e.load(a,e=>{e.wrapS=X,e.wrapT=X,l.current[s.id]=e,o(e=>({...e,[s.id]:!0}))},void 0,e=>{})})}}),()=>{Object.values(l.current).forEach(e=>{e.dispose()})}},[a]),ee(e=>{if(i.current){const s=.02*Math.sin(2*e.clock.elapsedTime);i.current.scale.y=1+s,"walking"===r&&(i.current.rotation.y=.1*Math.sin(e.clock.elapsedTime))}});const m=e=>{if(l.current[e.id]&&n[e.id]){const s=new ae({map:l.current[e.id],roughness:.7,metalness:0});return("Tops"===e.category||"Dresses"===e.category||"Bottoms"===e.category)&&(l.current[e.id].repeat.set(1,1),l.current[e.id].offset.set(0,0)),s}const s={Black:"#1a1a1a",White:"#ffffff",Blue:"#3b82f6",Red:"#ef4444",Green:"#10b981",Gray:"#6b7280",Brown:"#92400e",Purple:"#8b5cf6",Pink:"#ec4899",Yellow:"#eab308",Orange:"#f97316",Multi:"#6b7280"}[e.color]||"#6b7280";return"Dresses"===e.category||e.name.toLowerCase().includes("silk")?new te({color:s,roughness:.1,metalness:0,clearcoat:.8,clearcoatRoughness:.2,transmission:.1}):e.name.toLowerCase().includes("denim")||e.name.toLowerCase().includes("jean")?new ae({color:s,roughness:.9,metalness:0,normalScale:new re(.5,.5)}):e.name.toLowerCase().includes("leather")?new te({color:s,roughness:.3,metalness:.1,clearcoat:.9,clearcoatRoughness:.1}):new ae({color:s,roughness:.7,metalness:0})},x=new te({color:s.base,roughness:.8,metalness:0,clearcoat:.1,clearcoatRoughness:.8,transmission:.05,thickness:.5}),h=a.find(e=>"Tops"===e.category),p=a.find(e=>"Bottoms"===e.category),u=a.find(e=>"Dresses"===e.category),g=a.find(e=>"Footwear"===e.category),j=a.find(e=>"Outerwear"===e.category);return e.jsxs("group",{ref:i,position:[0,-1,0],children:[e.jsxs("mesh",{position:[0,1.7,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("sphereGeometry",{args:[.12,32,32]}),e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[0,1.8,0],castShadow:!0,children:[e.jsx("sphereGeometry",{args:[.13,16,16]}),e.jsx("meshStandardMaterial",{color:"#4a2c17",roughness:.8})]}),e.jsxs("mesh",{position:[0,1.55,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.04,.05,.1,16]}),e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[0,1.2,0],scale:[t.bust,1,.3],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.35,.6,.2]}),u?e.jsx("primitive",{object:m(u)}):h?e.jsx("primitive",{object:m(h)}):e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[-.25*t.shoulders,1.3,0],rotation:[0,0,.2],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.04,.03,.5,16]}),h||u?e.jsx("primitive",{object:m(h||u)}):e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[.25*t.shoulders,1.3,0],rotation:[0,0,-.2],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.04,.03,.5,16]}),h||u?e.jsx("primitive",{object:m(h||u)}):e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[-.35*t.shoulders,1,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("sphereGeometry",{args:[.03,16,16]}),e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[.35*t.shoulders,1,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("sphereGeometry",{args:[.03,16,16]}),e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[0,.8,0],scale:[t.waist,1,.8],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.15,.18,.2,16]}),u?e.jsx("primitive",{object:m(u)}):p?e.jsx("primitive",{object:m(p)}):e.jsx("primitive",{object:x})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsxs("mesh",{position:[0,.6,0],scale:[t.hips,1,.8],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.3,.25,.2]}),p?e.jsx("primitive",{object:m(p)}):e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[-.08,.2,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.06,.05,.7,16]}),e.jsx("primitive",{object:x})]}),e.jsxs("mesh",{position:[.08,.2,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.06,.05,.7,16]}),e.jsx("primitive",{object:x})]})]}),u&&e.jsxs("mesh",{position:[0,.4,0],scale:[1.2,1,1],castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.25,.15,.6,16]}),e.jsx("primitive",{object:m(u)})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("mesh",{position:[-.08,-.15,.05],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.08,.04,.15]}),e.jsx("primitive",{object:m(g)})]}),e.jsxs("mesh",{position:[.08,-.15,.05],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.08,.04,.15]}),e.jsx("primitive",{object:m(g)})]})]}),j&&e.jsxs("mesh",{position:[0,1.2,.05],scale:[1.1*t.shoulders,1.1,1.2],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.4,.7,.25]}),e.jsx("primitive",{object:m(j)})]})]})},ne=()=>e.jsx(se,{center:!0,children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Generating your 3D avatar..."})]})}),oe=({userProfile:s,outfitItems:t,pose:a="standing",lighting:r="studio"})=>{const i=(e=>{const s={"Very Fair":{base:"#fef7f0",shadow:"#f4e6d7",highlight:"#ffffff",undertone:"#ffeee6"},Fair:{base:"#fde2d3",shadow:"#f0d0b8",highlight:"#fef7f0",undertone:"#fdd5c4"},Light:{base:"#f7d7c4",shadow:"#e8c4a0",highlight:"#fde2d3",undertone:"#f2c9a8"},Medium:{base:"#deb887",shadow:"#cd9575",highlight:"#f0d0b8",undertone:"#d4a574"},Tan:{base:"#d2b48c",shadow:"#b8956f",highlight:"#e8c4a0",undertone:"#c8a882"},Deep:{base:"#8b7355",shadow:"#6b5635",highlight:"#a0845c",undertone:"#7d6b4f"},"Very Deep":{base:"#654321",shadow:"#4a2c17",highlight:"#7d5a2f",undertone:"#5c3e2a"}};return s[e]||s.Medium})(s.skinTone||"Medium"),l=(e=>{const s={Pear:{shoulders:.9,bust:.95,waist:.75,hips:1.1,height:1},Apple:{shoulders:1.05,bust:1.1,waist:1.05,hips:.95,height:1},Hourglass:{shoulders:1,bust:1.05,waist:.7,hips:1.05,height:1},Rectangle:{shoulders:.95,bust:.95,waist:.9,hips:.95,height:1},"Inverted Triangle":{shoulders:1.15,bust:1.1,waist:.85,hips:.85,height:1}};return s[e]||s.Rectangle})(s.bodyType||"Rectangle");return e.jsx("div",{className:"w-full h-96 bg-gradient-to-b from-gray-50 to-gray-100 rounded-lg overflow-hidden",children:e.jsx(J,{shadows:!0,camera:{position:[0,0,3],fov:50},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},performance:{min:.5},children:e.jsxs(B.Suspense,{fallback:e.jsx(ne,{}),children:[e.jsx("ambientLight",{intensity:.4}),e.jsx("directionalLight",{position:[5,5,5],intensity:1,castShadow:!0,"shadow-mapSize":[1024,1024]}),e.jsx("pointLight",{position:[-5,5,5],intensity:.5}),e.jsx("spotLight",{position:[0,10,0],angle:.3,penumbra:1,intensity:.5,castShadow:!0}),e.jsx(_,{preset:"studio"===r?"studio":"city"}),e.jsx(le,{skinColors:i,bodyMeasurements:l,outfitItems:t,pose:a}),e.jsx(Q,{position:[0,-1.5,0],opacity:.4,scale:3,blur:2,far:2}),e.jsx(Z,{enablePan:!1,enableZoom:!0,enableRotate:!0,minDistance:2,maxDistance:5,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI-Math.PI/6})]})})})},ce=({userProfile:h,outfitItems:p,occasion:u,className:g=""})=>{const[j,b]=B.useState(!0),[f,y]=B.useState("standing"),[w,v]=B.useState("studio"),[N,S]=B.useState(!1),[k,C]=B.useState(!1),[T,P]=B.useState(!1),[O,I]=B.useState(null);B.useEffect(()=>{const e=setTimeout(()=>{b(!1)},3e3);return()=>clearTimeout(e)},[p]);const D=e=>{I(e),P(!0)};return e.jsxs("div",{className:`bg-gradient-to-br from-gray-50 via-white to-gray-100 rounded-xl border-2 border-gray-200 shadow-xl ${g} ${N?"fixed inset-4 z-50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:e.jsx(s,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"3D Virtual Model"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsxs("span",{children:[h.skinTone," â€¢ ",h.bodyType]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:()=>{const e=p.find(e=>"Tops"===e.category||"Accessories"===e.category||"Outerwear"===e.category);e?D(e):alert("Please select a top, outerwear, or accessory to try on with your photo")},className:"px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all text-sm",children:[e.jsx(a,{className:"w-4 h-4 inline mr-1"}),"Try On with Photo"]})})]}),e.jsx("div",{className:"relative h-64 sm:h-80 md:h-96 lg:h-[500px]",children:e.jsx(r,{mode:"wait",children:j?e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx(i.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1,repeat:1/0,ease:"easeInOut"}},className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full mb-6"}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Creating Your 3D Avatar"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Analyzing ",h.skinTone," complexion"]}),e.jsxs("p",{className:"text-gray-600 text-sm mb-1",children:["Adjusting for ",h.bodyType," body type"]}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Rendering photorealistic 3D model..."})]}),e.jsx(i.div,{className:"w-64 h-2 bg-gray-200 rounded-full mt-6 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:e.jsx(i.div,{className:"h-full bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5,ease:"easeInOut"}})})]},"loading"):e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"h-full",children:e.jsx(oe,{userProfile:h,outfitItems:p,pose:f,lighting:w})},"model")})}),e.jsxs("div",{className:"p-6 border-t bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["3D Outfit Preview for ",u]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.length," items â€¢ Photorealistic rendering"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{const e=["standing","walking","sitting"],s=(e.indexOf(f)+1)%e.length;y(e[s])},className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:`Change pose (${f})`,children:e.jsx(l,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{const e=["studio","natural","dramatic"],s=(e.indexOf(w)+1)%e.length;v(e[s])},className:"p-2 text-gray-500 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-all",title:`Lighting: ${w}`,children:e.jsx(n,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>C(!k),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:k?"Pause animation":"Play animation",children:k?e.jsx(o,{className:"w-5 h-5"}):e.jsx(c,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S(!N),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:N?"Exit fullscreen":"Fullscreen",children:N?e.jsx(d,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:p.map(s=>e.jsxs(i.div,{whileHover:{scale:1.05,y:-2},className:"bg-gray-50 rounded-lg p-3 border border-gray-200 hover:border-purple-300 hover:shadow-md transition-all",children:[e.jsx("div",{className:"w-full h-16 rounded mb-2 border shadow-sm",style:{backgroundImage:`url(${s.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:s.category}),e.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:"White"===s.color?"#ffffff":"Black"===s.color?"#000000":"Blue"===s.color?"#3b82f6":"Red"===s.color?"#ef4444":"Green"===s.color?"#10b981":"Gray"===s.color?"#6b7280":"Purple"===s.color?"#8b5cf6":"Pink"===s.color?"#ec4899":"Yellow"===s.color?"#f59e0b":"Orange"===s.color?"#f97316":"Brown"===s.color?"#92400e":"#6b7280"}})]}),("Tops"===s.category||"Accessories"===s.category||"Outerwear"===s.category)&&e.jsxs("button",{onClick:()=>D(s),className:"mt-2 w-full flex items-center justify-center space-x-1 px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs hover:bg-purple-200 transition-colors",children:[e.jsx(a,{className:"w-3 h-3"}),e.jsx("span",{children:"Try On"})]})]},s.id))}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2 mt-1",children:e.jsx(x,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"AI Style Analysis"}),e.jsx("p",{className:"text-sm text-purple-800 leading-relaxed",children:(()=>{const e=[];h.skinTone&&e.push(`The color palette beautifully complements your ${h.skinTone} complexion`),h.bodyType&&e.push(`This silhouette perfectly flatters your ${h.bodyType} body type`),h.preferredStyle&&e.push(`Expertly styled to match your ${h.preferredStyle} aesthetic`);const s=p.map(e=>e.color);return[...new Set(s)].length<=3&&e.push("Excellent color coordination creates a harmonious and sophisticated look"),e.join(". ")+"."})()}),e.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-xs text-purple-700",children:[e.jsxs("span",{children:["Pose: ",f]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Lighting: ",w]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:"3D Rendered"})]})]})]})})]}),e.jsx(ie,{isOpen:T,onClose:()=>P(!1),wardrobeItem:O})]})},de=({wardrobeItems:s,userProfile:a,recommendations:r})=>{const[l,o]=B.useState(null);B.useEffect(()=>{c()},[s,r]);const c=()=>{const e=s.reduce((e,s)=>(e[s.color]=(e[s.color]||0)+1,e),{}),t=Object.entries(e).sort(([,e],[,s])=>s-e).slice(0,3),a=s.reduce((e,s)=>(e[s.category]=(e[s.category]||0)+1,e),{}),i=d(),l=m(),n=x();o({colorDistribution:t,categoryDistribution:a,styleScore:i,versatilityScore:l,trendAlignment:n,totalItems:s.length,recommendations:r.length})},d=()=>{const e=Math.min(10*s.length,100),t=Object.keys(s.reduce((e,s)=>(e[s.color]=!0,e),{})).length,a=Math.min(5*t,20);return Math.min(e+a,100)},m=()=>{const e=Object.keys(s.reduce((e,s)=>(e[s.category]=!0,e),{}));return Math.min(15*e.length,100)},x=()=>{const e=["Purple","Green","Pink","Blue"],t=s.filter(s=>e.includes(s.color)||s.name.toLowerCase().includes("trendy")||s.name.toLowerCase().includes("modern"));return Math.min(t.length/s.length*100,100)};if(!l)return null;const j=[{title:"Style Score",value:l.styleScore,icon:h,color:"from-purple-500 to-pink-500",description:"Overall style coherence and quality"},{title:"Versatility",value:l.versatilityScore,icon:p,color:"from-blue-500 to-cyan-500",description:"Outfit combination potential"},{title:"Trend Alignment",value:l.trendAlignment,icon:u,color:"from-green-500 to-emerald-500",description:"How current your style is"}];return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:e.jsx(g,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Style Insights"}),e.jsx("p",{className:"text-gray-600",children:"AI-powered analysis of your wardrobe"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:j.map((s,t)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"relative overflow-hidden rounded-lg bg-gradient-to-r p-4 text-white",style:{background:`linear-gradient(135deg, ${s.color.split(" ")[1]}, ${s.color.split(" ")[3]})`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(s.icon,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:Math.round(s.value)})]}),e.jsx("h4",{className:"font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-sm opacity-90",children:s.description}),e.jsx("div",{className:"mt-3 bg-white/20 rounded-full h-2",children:e.jsx(i.div,{initial:{width:0},animate:{width:`${s.value}%`},transition:{delay:.5+.1*t,duration:1},className:"bg-white rounded-full h-2"})})]},s.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(t,{className:"w-5 h-5 mr-2 text-purple-600"}),"Color Palette"]}),e.jsx("div",{className:"space-y-2",children:l.colorDistribution.map(([s,t],a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:"White"===s?"#ffffff":"Black"===s?"#000000":"Blue"===s?"#3b82f6":"Red"===s?"#ef4444":"Green"===s?"#10b981":"Gray"===s?"#6b7280":"Purple"===s?"#8b5cf6":"Pink"===s?"#ec4899":"Yellow"===s?"#f59e0b":"Orange"===s?"#f97316":"Brown"===s?"#92400e":"#6b7280"}}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:t/l.totalItems*100+"%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:t})]})]},s))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(n,{className:"w-5 h-5 mr-2 text-blue-600"}),"Quick Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("span",{className:"font-semibold text-gray-900",children:l.totalItems})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Categories"}),e.jsx("span",{className:"font-semibold text-gray-900",children:Object.keys(l.categoryDistribution).length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Outfit Combinations"}),e.jsx("span",{className:"font-semibold text-gray-900",children:l.recommendations})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Style Preference"}),e.jsx("span",{className:"font-semibold text-gray-900",children:a.preferredStyle||"Not set"})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"AI Recommendations"}),e.jsxs("div",{className:"space-y-2 text-sm text-purple-800",children:[l.styleScore<70&&e.jsx("p",{children:"â€¢ Consider adding more coordinated pieces to improve style coherence"}),l.versatilityScore<60&&e.jsx("p",{children:"â€¢ Add versatile basics that can be mixed and matched easily"}),l.trendAlignment<50&&e.jsx("p",{children:"â€¢ Incorporate some trending colors or styles to modernize your wardrobe"}),l.styleScore>=80&&l.versatilityScore>=80&&e.jsx("p",{children:"â€¢ Excellent wardrobe! Consider exploring new styles or occasions"})]})]})]})},me=({outfitData:s,userProfile:t})=>{const[a,l]=B.useState(!1),[n,o]=B.useState(!1),[c,d]=B.useState(Math.floor(50*Math.random())+10),[m,x]=B.useState(!1),h=`Check out my ${s.occasion} outfit styled with StyleAI! ðŸ”¥âœ¨ #StyleAI #OOTD #FashionAI`,p=`https://styleai.app/outfit/${s.id}`,u=[{name:"Instagram",icon:w,color:"from-pink-500 to-purple-600",action:()=>{navigator.clipboard.writeText(`${h} ${p}`),o(!0)}},{name:"Twitter",icon:v,color:"from-blue-400 to-blue-600",action:()=>{window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(h)}&url=${encodeURIComponent(p)}`,"_blank"),o(!0)}},{name:"Facebook",icon:N,color:"from-blue-600 to-blue-800",action:()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(p)}`,"_blank"),o(!0)}}];return e.jsxs("div",{className:"relative",children:[e.jsxs(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"Share Outfit"})]}),e.jsx(r,{children:a&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>l(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsx(i.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"bg-white px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Share Your Outfit"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:"Ã—"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:s.occasion.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[s.occasion," Outfit"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.items.length," items â€¢ Styled by ",t.name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 pt-4 border-t border-purple-200",children:[e.jsxs("button",{onClick:()=>{x(!m),d(e=>m?e-1:e+1)},className:"flex items-center space-x-1 transition-colors "+(m?"text-red-500":"text-gray-600 hover:text-red-500"),children:[e.jsx(b,{className:"w-4 h-4 "+(m?"fill-current":"")}),e.jsx("span",{className:"text-sm",children:c})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:Math.floor(20*Math.random())+5})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:Math.floor(10*Math.random())+2})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Share to social media"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.map(s=>e.jsxs(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s.action,className:`flex flex-col items-center space-y-2 p-4 rounded-lg bg-gradient-to-r ${s.color} text-white hover:shadow-lg transition-all`,children:[e.jsx(s.icon,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs font-medium",children:s.name})]},s.name))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"More options"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(i.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{navigator.clipboard.writeText(p),o(!0),setTimeout(()=>o(!1),2e3)},className:"flex-1 flex items-center justify-center space-x-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:n?"Copied!":"Copy Link"})]}),e.jsxs(i.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("canvas"),a=e.getContext("2d");if(e.width=400,e.height=600,a){a.fillStyle="#ffffff",a.fillRect(0,0,400,600),a.fillStyle="#1f2937",a.font="bold 24px Arial",a.fillText(`${s.occasion} Outfit`,20,50),a.font="16px Arial",a.fillText(`Styled by ${t.name}`,20,80),a.fillText("Created with StyleAI",20,560);const r=document.createElement("a");r.download=`styleai-outfit-${s.occasion.toLowerCase()}.png`,r.href=e.toDataURL(),r.click()}},className:"flex-1 flex items-center justify-center space-x-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Download"})]})]})]}),e.jsx(r,{children:n&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 text-center",children:"ðŸŽ‰ Outfit shared successfully! Your style is inspiring others."})})})]})})]})})})]})},xe=({wardrobeItems:s,onPlanOutfit:t})=>{const[a,r]=B.useState(new Date),[l,n]=B.useState(null),[o,c]=B.useState({}),[d,m]=B.useState(!1),x={sunny:D,cloudy:I,rainy:O};B.useEffect(()=>{const e=localStorage.getItem("plannedOutfits");e&&c(JSON.parse(e))},[]);const h=e=>{c(e),localStorage.setItem("plannedOutfits",JSON.stringify(e))},p=e=>e.toISOString().split("T")[0],u=e=>["sunny","cloudy","rainy"][e.getDate()%3],g=e=>{const s=p(e);n(s),m(!0)},j=e=>{const s=new Date(a);"prev"===e?s.setMonth(s.getMonth()-1):s.setMonth(s.getMonth()+1),r(s)},b=(e=>{const s=e.getFullYear(),t=e.getMonth(),a=new Date(s,t,1),r=new Date(s,t+1,0).getDate(),i=a.getDay(),l=[];for(let n=0;n<i;n++)l.push(null);for(let n=1;n<=r;n++)l.push(new Date(s,t,n));return l})(a);return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:e.jsx(C,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Outfit Calendar"}),e.jsx("p",{className:"text-gray-600",children:"Plan your outfits in advance"})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>j("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(T,{className:"w-5 h-5"})}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ",a.getFullYear()]}),e.jsx("button",{onClick:()=>j("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(P,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-600",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:b.map((s,t)=>{if(!s)return e.jsx("div",{className:"p-2 h-20"},t);const a=p(s),r=o[a],l=a===p(new Date),n=s<new Date((new Date).setHours(0,0,0,0)),c=u(s),d=x[c];return e.jsxs(i.div,{whileHover:{scale:1.02},className:`p-2 h-20 border border-gray-200 rounded-lg cursor-pointer transition-all ${l?"bg-purple-50 border-purple-300":"hover:bg-gray-50"} ${n?"opacity-60":""}`,onClick:()=>!n&&g(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium "+(l?"text-purple-600":"text-gray-900"),children:s.getDate()}),e.jsx(d,{className:"w-3 h-3 text-gray-400"})]}),r&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs px-2 py-1 rounded text-white text-center "+("Work"===r.occasion?"bg-blue-500":"Casual"===r.occasion?"bg-green-500":"Date Night"===r.occasion?"bg-pink-500":"Party"===r.occasion?"bg-purple-500":"Formal"===r.occasion?"bg-gray-800":"bg-orange-500"),children:r.occasion}),!n&&e.jsxs("div",{className:"flex justify-center space-x-1",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),g(s)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(M,{className:"w-3 h-3 text-gray-600"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{const s={...o};delete s[e],h(s)})(a)},className:"p-1 hover:bg-red-100 rounded",children:e.jsx(A,{className:"w-3 h-3 text-red-600"})})]})]}),!r&&!n&&e.jsx("div",{className:"flex justify-center items-center h-8",children:e.jsx($,{className:"w-4 h-4 text-gray-400"})})]},a)})}),d&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>m(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsx("div",{className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsxs("div",{className:"bg-white px-6 py-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Plan Outfit for ",l&&new Date(l).toLocaleDateString()]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Work","Casual","Date Night","Party","Formal","Weekend","Travel"].map(s=>e.jsx(i.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>(e=>{if(!l)return;const s={...o,[l]:{occasion:e,weather:u(new Date(l)),planned:!0,items:[]}};h(s),m(!1),t(l,e)})(s),className:"p-4 border border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all text-center",children:e.jsx("span",{className:"font-medium text-gray-900",children:s})},s))}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})})]})})]})})]})},he=["Casual","Work","Date Night","Party","Formal","Weekend","Travel"],pe=()=>{const{items:t}=U(),{user:a}=V(),r=W(),[l,o]=B.useState([]),[c,d]=B.useState([]),[m,h]=B.useState(""),[p,j]=B.useState(!1),[b,f]=B.useState(null),[y,w]=B.useState("outfits"),[v,N]=B.useState(!1),[S,k]=B.useState(null),[T,P]=B.useState(null),[O,I]=B.useState(!1),[D,M]=B.useState(!1),[A,$]=B.useState(0),z=async()=>{var e,s;try{j(!0);const s=await Y.getOutfitRecommendations(m||void 0);if(s.subscriptionRequired)return M(!0),void P(s);o(s.recommendations||[]),f(s.wardrobeAnalysis),k(s.subscriptionInfo),P(s.accessInfo);const t=null==(e=s.recommendations)?void 0:e.some(e=>e.confidence<.8);N(t)}catch(t){403===(null==(s=t.response)?void 0:s.status)?(M(!0),P(t.response.data)):o([])}finally{j(!1)}};B.useEffect(()=>{t.length>0&&("outfits"===y?z():"shopping"===y&&(async()=>{try{j(!0);const e=await Y.getSmartShoppingList();d(e.shoppingList||[])}catch(e){d([])}finally{j(!1)}})())},[t.length,m,y]);const H=e=>{switch(e){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},J=e=>e>=.8?"Great Match":e>=.6?"Good Match":"Needs Improvement",_=e=>t.filter(s=>e.items.includes(s.id));return 0===t.length?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(x,{className:"h-16 w-16 text-primary-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Items in Wardrobe"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Add some items to your wardrobe to get personalized outfit recommendations and shopping suggestions."}),e.jsx("a",{href:"/wardrobe",className:"btn-primary",children:"Add Items to Wardrobe"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Style Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Get personalized recommendations with advanced AI insights"})]}),S&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"w-5 h-5 text-purple-600"}),e.jsx("div",{children:"active"===S.status?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-purple-900",children:"Premium Active"}),e.jsxs("p",{className:"text-sm text-purple-700",children:["Unlimited recommendations until ",new Date(S.endDate).toLocaleDateString()]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-purple-900",children:"Free Trial"}),e.jsxs("p",{className:"text-sm text-purple-700",children:[(null==T?void 0:T.remaining)||0," free recommendations remaining"]})]})})]}),"active"!==S.status&&e.jsx("button",{onClick:()=>I(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Upgrade"})]})}),D&&e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(G,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Subscription Required"}),e.jsx("p",{className:"text-red-700 mb-4",children:"You've used all your free recommendations. Subscribe to get unlimited outfit suggestions!"}),e.jsx("button",{onClick:()=>I(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"View Subscription Plans"})]}),v&&"outfits"===y&&!D&&e.jsx(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:e.jsx(n,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-purple-900",children:"Make Your Wardrobe Smarter"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Some outfit matches are below 80%. Discover items that will complete your perfect looks!"})]})]}),e.jsxs("button",{onClick:()=>{const e=l.filter(e=>e.confidence<.8);if(e.length>0){const s=e.flatMap(e=>e.missingItems||[]).map(e=>e.category),t=[...new Set(s)][0]||"Tops";r(`/marketplace?category=${t}&smart=true`)}else r("/marketplace")},className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx("span",{children:"Shop Smart"}),e.jsx(L,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[e.jsxs("button",{onClick:()=>w("outfits"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("outfits"===y?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(x,{className:"inline w-4 h-4 mr-2"}),"Outfit Ideas"]}),e.jsxs("button",{onClick:()=>w("shopping"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("shopping"===y?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(u,{className:"inline w-4 h-4 mr-2"}),"Smart Shopping"]}),e.jsxs("button",{onClick:()=>w("insights"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("insights"===y?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(g,{className:"inline w-4 h-4 mr-2"}),"Style Insights"]}),e.jsxs("button",{onClick:()=>w("calendar"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("calendar"===y?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(C,{className:"inline w-4 h-4 mr-2"}),"Outfit Calendar"]})]})]}),"outfits"===y&&!D&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Occasions"}),he.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("button",{onClick:z,disabled:p,className:"btn-primary",children:p?"Loading...":"Refresh"})]}),p?e.jsx("div",{className:"flex justify-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):D?null:"outfits"===y?0===l.length?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(x,{className:"h-16 w-16 text-primary-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Recommendations Available"}),e.jsx("p",{className:"text-gray-600",children:"Try adding more items to your wardrobe or selecting a different occasion."})]}):e.jsxs("div",{className:"space-y-8",children:[l.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 virtual-model-preview",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3D Virtual Model Preview"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Outfit:"}),e.jsx("select",{value:A,onChange:e=>$(parseInt(e.target.value)),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:l.map((s,t)=>e.jsxs("option",{value:t,children:[s.occasion," Outfit ",t+1]},s.id))}),e.jsx(me,{outfitData:{id:l[A].id,items:_(l[A]),occasion:l[A].occasion},userProfile:a})]})]}),e.jsx(ce,{userProfile:{skinTone:null==a?void 0:a.skinTone,bodyType:null==a?void 0:a.bodyType,preferredStyle:null==a?void 0:a.preferredStyle},outfitItems:_(l[A]),occasion:l[A].occasion,className:"h-full"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:l.map((r,l)=>{return e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer transition-all "+(A===l?"ring-2 ring-purple-500":"hover:shadow-md"),onClick:()=>$(l),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r.occasion," Outfit ",l+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"text-sm font-medium "+(o=r.confidence,o>=.8?"text-green-600":o>=.6?"text-yellow-600":"text-red-600"),children:[Math.round(100*r.confidence),"% - ",J(r.confidence)]})]})]}),r.confidence<.8&&e.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-800",children:"This outfit could be improved with additional items"})]})}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),r.styleNotes&&e.jsx("p",{className:"text-sm text-gray-500 mb-4 italic",children:r.styleNotes}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:r.items.map(s=>{const a=t.find(e=>e.id===s);return a?e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-24 object-cover rounded-lg mb-2",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=400"}}),e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[a.category," â€¢ ",a.color]})]},s):null})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:e=>{var s;e.stopPropagation(),$(l),null==(s=document.querySelector(".virtual-model-preview"))||s.scrollIntoView({behavior:"smooth"})},className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(s,{size:16}),e.jsx("span",{children:"View on Model"})]}),e.jsx(me,{outfitData:{id:r.id,items:_(r),occasion:r.occasion},userProfile:a})]})]})},r.id);var o})})]}):"insights"===y?e.jsx(de,{wardrobeItems:t,userProfile:a,recommendations:l}):"calendar"===y?e.jsx(xe,{wardrobeItems:t,onPlanOutfit:(e,s)=>{h(s),w("outfits"),z()}}):0===c.length?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(u,{className:"h-16 w-16 text-primary-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Shopping Suggestions"}),e.jsx("p",{className:"text-gray-600",children:"Your wardrobe looks complete! Check back later for new suggestions."})]}):e.jsx("div",{className:"space-y-6",children:c.map((s,t)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm p-6 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>(e=>{r(`/marketplace?category=${e.category}&smart=true`)})(s),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.item}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${H(s.priority)}`,children:[s.priority," priority"]})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:s.reason}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Category: ",s.category]}),e.jsxs("span",{children:["Budget: $",s.priceRange.min," - $",s.priceRange.max]}),e.jsxs("span",{children:["Occasions: ",s.occasions.join(", ")]})]})]}),e.jsx(L,{className:"w-5 h-5 text-gray-400"})]}),s.availableProducts&&s.availableProducts.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Available Options:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:s.availableProducts.map(s=>e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"block group bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors",onClick:e=>e.stopPropagation(),children:[e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-32 object-cover rounded mb-2 group-hover:opacity-80 transition-opacity",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=400"}}),e.jsx("h5",{className:"text-sm font-medium text-gray-900 truncate mb-1",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-sm font-semibold text-primary-600",children:["$",s.price]}),s.rating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600 ml-1",children:s.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.source}),e.jsx(E,{className:"w-3 h-3 text-gray-400"})]})]},s.id))})]})]},t))}),e.jsx(q,{isOpen:O,onClose:()=>I(!1),onSuccess:()=>{I(!1),M(!1),z()}})]})};export{pe as default};
