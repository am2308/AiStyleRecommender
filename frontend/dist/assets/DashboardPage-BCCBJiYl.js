import{j as e,m as s,a as t,U as l,S as a,o as r,T as i,g as c,c as d,p as n,q as o,b as m,r as x}from"./vendor-ui-DQARcV5T.js";import{r as p,L as h}from"./vendor-react-CLKTprKu.js";import{u,a as g,F as j}from"./index-BDHgIuTY.js";import{r as b}from"./recommendationService-BFqlBOMy.js";import{c as y}from"./communityService-CfB81qMn.js";import"./vendor-three-D8-qaPKY.js";const f=()=>{var f;const{user:v}=u(),{items:w}=g(),[k,S]=p.useState([]),[A,C]=p.useState([]),[E,I]=p.useState([]),[O,P]=p.useState([]),[U,M]=p.useState(!0);p.useEffect(()=>{(async()=>{M(!0);try{const[e,s,t,l]=await Promise.all([b.getOutfitRecommendations(),b.getTrendingItems(),y.getChallenges(),y.getPosts()]);S(e.recommendations||[]),C(s.trending||[]),I(t||[]),P(l||[])}catch(e){}finally{M(!1)}})()},[]);const T=E.filter(e=>e.isActive),V=O.slice(0,3);return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx(j,{}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",null==v?void 0:v.name,"!"]}),e.jsx("p",{className:"text-gray-600",children:"Your personal AI stylist is ready to inspire you today"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(h,{to:"/recommendations",className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:[e.jsx(t,{size:18}),e.jsx("span",{children:"Get Outfit Ideas"})]}),e.jsxs(h,{to:"/community",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(l,{size:18}),e.jsx("span",{children:"Join Community"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:e.jsx(a,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:w.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Wardrobe Items"})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-pink-100 rounded-full p-2",children:e.jsx(t,{className:"w-5 h-5 text-pink-600"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:k.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Outfit Ideas"})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:e.jsx(r,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:T.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Challenges"})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-2",children:e.jsx(i,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"85%"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Style Score"})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:e.jsx(t,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Outfit Ideas"})]}),e.jsxs(h,{to:"/recommendations",className:"text-sm text-purple-600 hover:text-purple-800 flex items-center",children:[e.jsx("span",{children:"View All"}),e.jsx(c,{className:"w-4 h-4 ml-1"})]})]}),U?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-600"})}):0===k.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(t,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Recommendations Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add items to your wardrobe to get personalized outfit ideas"}),e.jsxs(h,{to:"/wardrobe",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Add Wardrobe Items"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.slice(0,2).map((s,l)=>e.jsx(h,{to:"/recommendations",className:"block group",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden border border-gray-200 hover:border-purple-300 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"aspect-video bg-gray-100 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/80 flex items-center justify-center",children:e.jsx(d,{className:"w-6 h-6 text-purple-600"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[e.jsxs("h3",{className:"text-white font-medium",children:[s.occasion," Outfit"]}),e.jsxs("div",{className:"flex items-center text-white/80 text-xs",children:[e.jsx(t,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:[Math.round(100*s.confidence),"% match"]})]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:s.description}),e.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[s.items.slice(0,3).map(s=>{const t=w.find(e=>e.id===s);return t?e.jsx("div",{className:"flex-shrink-0 w-12",children:e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=400"}})})},t.id):null}),s.items.length>3&&e.jsxs("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500 text-xs",children:["+",s.items.length-3]})]})]})]})},s.id))})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-2",children:e.jsx(l,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Community Highlights"})]}),e.jsxs(h,{to:"/community",className:"text-sm text-purple-600 hover:text-purple-800 flex items-center",children:[e.jsx("span",{children:"View All"}),e.jsx(c,{className:"w-4 h-4 ml-1"})]})]}),U?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-600"})}):0===V.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(l,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Join Our Community"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Share your style and get inspired by others"}),e.jsxs(h,{to:"/community",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Explore Community"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:V.map(s=>e.jsx(h,{to:"/community",className:"block group",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden border border-gray-200 hover:border-purple-300 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e.jsx("img",{src:s.images[0],alt:`Post by ${s.user.name}`,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=600"}}),e.jsxs("div",{className:"absolute top-2 left-2 flex items-center space-x-1",children:[e.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-white/80 p-0.5",children:s.user.profilePic?e.jsx("img",{src:s.user.profilePic,alt:s.user.name,className:"w-full h-full object-cover rounded-full"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-purple-400 to-pink-400 rounded-full"})}),e.jsx("div",{className:"px-2 py-1 bg-white/80 backdrop-blur-sm rounded-full",children:e.jsx("span",{className:"text-xs font-medium text-gray-900",children:s.user.name})})]}),s.challenge&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("div",{className:"px-2 py-1 bg-purple-100 rounded-full flex items-center space-x-1",children:[e.jsx(r,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-purple-800",children:s.challenge.name})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:s.caption}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s.likes})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:s.comments})]})]}),e.jsx("span",{children:N(s.createdAt)})]})]})]})},s.id))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white text-xl font-bold",children:(null==(f=null==v?void 0:v.name)?void 0:f.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(null==v?void 0:v.name)||"User"}),e.jsx("p",{className:"text-gray-600",children:(null==v?void 0:v.preferredStyle)||"Style profile incomplete"})]})]}),e.jsxs("div",{className:"space-y-4",children:[!(null==v?void 0:v.preferredStyle)&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800",children:"Complete your style profile to get better recommendations"}),e.jsx(h,{to:"/profile",className:"text-xs font-medium text-yellow-800 hover:text-yellow-900 underline",children:"Update Profile"})]}),e.jsx(h,{to:"/profile",className:"block w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-center",children:"View Profile"})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(r,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Challenges"})]}),e.jsx(h,{to:"/community",className:"text-sm text-purple-600 hover:text-purple-800",children:"View All"})]}),U?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-purple-600"})}):0===T.length?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(r,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No active challenges"}),e.jsx(h,{to:"/community",className:"text-sm text-purple-600 hover:text-purple-800",children:"Explore Challenges"})]}):e.jsx("div",{className:"space-y-3",children:T.slice(0,3).map(s=>e.jsxs(h,{to:"/community",className:"block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:[s.daysLeft," days left"]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[s.participants," participants"]}),s.isJoined?e.jsx("span",{className:"text-green-600 font-medium",children:"Joined"}):e.jsx("span",{className:"text-purple-600 font-medium",children:"Join Now"})]})]},s.id))})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Trending Items"})]}),e.jsx(h,{to:"/marketplace",className:"text-sm text-purple-600 hover:text-purple-800",children:"View All"})]}),U?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-purple-600"})}):0===A.length?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(m,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No trending items"}),e.jsx(h,{to:"/marketplace",className:"text-sm text-purple-600 hover:text-purple-800",children:"Explore Marketplace"})]}):e.jsx("div",{className:"space-y-3",children:A.slice(0,3).map(s=>e.jsxs(h,{to:"/marketplace",className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=400"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.category}),e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["$",s.price.toFixed(2)]})]})]})]},s.id))})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Upcoming Events"})]}),e.jsx(h,{to:"/recommendations",className:"text-sm text-purple-600 hover:text-purple-800",children:"Calendar"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"New Challenge Launch"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Tomorrow"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Autumn Layers Challenge begins tomorrow!"}),e.jsx(h,{to:"/community",className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Set Reminder"})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Planned Outfit"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Friday"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Work meeting outfit planned for Friday"}),e.jsx(h,{to:"/recommendations",className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"View Outfit"})]})]})]})]})]})]})})]})},N=e=>{const s=new Date(e),t=new Date,l=Math.floor((t.getTime()-s.getTime())/1e3);if(l<60)return`${l}s ago`;const a=Math.floor(l/60);if(a<60)return`${a}m ago`;const r=Math.floor(a/60);if(r<24)return`${r}h ago`;const i=Math.floor(r/24);return i<7?`${i}d ago`:s.toLocaleDateString()};export{f as default};
