!function(){"use strict";var e,t=(e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var r,i,a;t=t||{},r||(r=void 0!==t?t:{}),r.ready=new Promise(function(e,t){i=e,a=t});var n,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);var s="./this.program";function _(e,t){throw t}var c,u="";u=self.location.href,e&&(u=e),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var f,l,d=r.print||function(){}.bind(),p=r.printErr||function(){}.bind();for(n in o)o.hasOwnProperty(n)&&(r[n]=o[n]);o=null,r.thisProgram&&(s=r.thisProgram),r.quit&&(_=r.quit),r.wasmBinary&&(l=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&Y("no native wasm support detected");var h,m=!1;function b(e,t){e||Y("Assertion failed: "+t)}function w(e){var t=r["_"+e];return b(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var g,y,v,E,A,T,k,x,R,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,t,r){var i=t+r;for(r=t;e[r]&&!(r>=i);)++r;if(16<r-t&&e.subarray&&L)return L.decode(e.subarray(t,r));for(i="";t<r;){var a=e[t++];if(128&a){var n=63&e[t++];if(192==(224&a))i+=String.fromCharCode((31&a)<<6|n);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|n<<6|o:(7&a)<<18|n<<12|o<<6|63&e[t++])?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else i+=String.fromCharCode(a)}return i}function z(e,t){return e?F(v,e,t):""}function M(e,t,r,i){if(!(0<i))return 0;var a=r;i=r+i-1;for(var n=0;n<e.length;++n){var o=e.charCodeAt(n);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++n)),127>=o){if(r>=i)break;t[r++]=o}else{if(2047>=o){if(r+1>=i)break;t[r++]=192|o>>6}else{if(65535>=o){if(r+2>=i)break;t[r++]=224|o>>12}else{if(r+3>=i)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63}t[r++]=128|o>>6&63}t[r++]=128|63&o}}return t[r]=0,r-a}function I(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++r)),127>=i?++t:t=2047>=i?t+2:65535>=i?t+3:t+4}return t}function O(e){var t=I(e)+1,r=nr(t);return r&&M(e,y,r,t),r}function P(e,t){for(var r=0;r<e.length;++r)y[0|t++]=e.charCodeAt(r);y[0|t]=0}function S(){var e=h.buffer;g=e,r.HEAP8=y=new Int8Array(e),r.HEAP16=E=new Int16Array(e),r.HEAP32=T=new Int32Array(e),r.HEAPU8=v=new Uint8Array(e),r.HEAPU16=A=new Uint16Array(e),r.HEAPU32=k=new Uint32Array(e),r.HEAPF32=x=new Float32Array(e),r.HEAPF64=R=new Float64Array(e)}var C,B=[],D=[],U=[],V=[];function N(){var e=r.preRun.shift();B.unshift(e)}var q=0,G=null;function W(){q++,r.monitorRunDependencies&&r.monitorRunDependencies(q)}function H(){if(q--,r.monitorRunDependencies&&r.monitorRunDependencies(q),0==q&&G){var e=G;G=null,e()}}function Y(e){throw r.onAbort&&r.onAbort(e),p(e),m=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),a(e),e}r.preloadedImages={},r.preloadedAudios={};var X,Z,j,K="zappar-cv.wasm";if(String.prototype.startsWith?!K.startsWith("data:application/octet-stream;base64,"):0!==K.indexOf("data:application/octet-stream;base64,")){var J=K;K=r.locateFile?r.locateFile(J,u):u+J}function $(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(r);else{var i=t.vd;"number"==typeof i?void 0===t.Oc?C.get(i)():C.get(i)(t.Oc):i(void 0===t.Oc?null:t.Oc)}}}function Q(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return T[sr()>>2]=28,-1;e=j()}return T[t>>2]=e/1e3|0,T[t+4>>2]=e%1e3*1e6|0,0}function ee(e){this.Hc=e-16,this.Md=function(e){T[this.Hc+8>>2]=e},this.Jd=function(e){T[this.Hc+0>>2]=e},this.Kd=function(){T[this.Hc+4>>2]=0},this.Id=function(){y[this.Hc+12|0]=0},this.Ld=function(){y[this.Hc+13|0]=0},this.yd=function(e,t){this.Md(e),this.Jd(t),this.Kd(),this.Id(),this.Ld()}}function te(e,t){for(var r=0,i=e.length-1;0<=i;i--){var a=e[i];"."===a?e.splice(i,1):".."===a?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r;r--)e.unshift("..");return e}function re(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=te(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function ie(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function ae(e){if("/"===e)return"/";var t=(e=(e=re(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)}function ne(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if("string"!=typeof(t=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=te(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."}j=function(){return performance.now()};var oe=[];function se(e,t){oe[e]={input:[],wc:[],Gc:t},Ce(e,_e)}var _e={open:function(e){var t=oe[e.node.Lc];if(!t)throw new ge(43);e.uc=t,e.seekable=!1},close:function(e){e.uc.Gc.flush(e.uc)},flush:function(e){e.uc.Gc.flush(e.uc)},read:function(e,t,r,i){if(!e.uc||!e.uc.Gc.hd)throw new ge(60);for(var a=0,n=0;n<i;n++){try{var o=e.uc.Gc.hd(e.uc)}catch(s){throw new ge(29)}if(void 0===o&&0===a)throw new ge(6);if(null==o)break;a++,t[r+n]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,i){if(!e.uc||!e.uc.Gc.$c)throw new ge(60);try{for(var a=0;a<i;a++)e.uc.Gc.$c(e.uc,t[r+a])}catch(n){throw new ge(29)}return i&&(e.node.timestamp=Date.now()),a}},ce={hd:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=tr(t,!0)}return e.input.shift()},$c:function(e,t){null===t||10===t?(d(F(e.wc,0)),e.wc=[]):0!=t&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(d(F(e.wc,0)),e.wc=[])}},ue={$c:function(e,t){null===t||10===t?(p(F(e.wc,0)),e.wc=[]):0!=t&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(p(F(e.wc,0)),e.wc=[])}},fe={zc:null,Bc:function(){return fe.createNode(null,"/",16895,0)},createNode:function(e,t,r,i){if(24576==(61440&r)||4096==(61440&r))throw new ge(63);return fe.zc||(fe.zc={dir:{node:{yc:fe.qc.yc,Ac:fe.qc.Ac,Jc:fe.qc.Jc,Qc:fe.qc.Qc,nd:fe.qc.nd,Wc:fe.qc.Wc,od:fe.qc.od,Rc:fe.qc.Rc,Sc:fe.qc.Sc},stream:{Ec:fe.sc.Ec}},file:{node:{yc:fe.qc.yc,Ac:fe.qc.Ac},stream:{Ec:fe.sc.Ec,read:fe.sc.read,write:fe.sc.write,cd:fe.sc.cd,jd:fe.sc.jd,ld:fe.sc.ld}},link:{node:{yc:fe.qc.yc,Ac:fe.qc.Ac,Mc:fe.qc.Mc},stream:{}},dd:{node:{yc:fe.qc.yc,Ac:fe.qc.Ac},stream:Se}}),16384==(61440&(r=ke(e,t,r,i)).mode)?(r.qc=fe.zc.dir.node,r.sc=fe.zc.dir.stream,r.rc={}):32768==(61440&r.mode)?(r.qc=fe.zc.file.node,r.sc=fe.zc.file.stream,r.tc=0,r.rc=null):40960==(61440&r.mode)?(r.qc=fe.zc.link.node,r.sc=fe.zc.link.stream):8192==(61440&r.mode)&&(r.qc=fe.zc.dd.node,r.sc=fe.zc.dd.stream),r.timestamp=Date.now(),e&&(e.rc[t]=r,e.timestamp=r.timestamp),r},Yd:function(e){return e.rc?e.rc.subarray?e.rc.subarray(0,e.tc):new Uint8Array(e.rc):new Uint8Array(0)},ed:function(e,t){var r=e.rc?e.rc.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.rc,e.rc=new Uint8Array(t),0<e.tc&&e.rc.set(r.subarray(0,e.tc),0))},Gd:function(e,t){if(e.tc!=t)if(0==t)e.rc=null,e.tc=0;else{var r=e.rc;e.rc=new Uint8Array(t),r&&e.rc.set(r.subarray(0,Math.min(t,e.tc))),e.tc=t}},qc:{yc:function(e){var t={};return t.td=8192==(61440&e.mode)?e.id:1,t.Zc=e.id,t.mode=e.mode,t.Ed=1,t.uid=0,t.wd=0,t.Lc=e.Lc,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.tc:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.pd=new Date(e.timestamp),t.Dd=new Date(e.timestamp),t.sd=new Date(e.timestamp),t.qd=4096,t.rd=Math.ceil(t.size/t.qd),t},Ac:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&fe.Gd(e,t.size)},Jc:function(){throw ye[44]},Qc:function(e,t,r,i){return fe.createNode(e,t,r,i)},nd:function(e,t,r){if(16384==(61440&e.mode)){try{var i=Te(t,r)}catch(n){}if(i)for(var a in i.rc)throw new ge(55)}delete e.parent.rc[e.name],e.parent.timestamp=Date.now(),e.name=r,t.rc[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Wc:function(e,t){delete e.rc[t],e.timestamp=Date.now()},od:function(e,t){var r,i=Te(e,t);for(r in i.rc)throw new ge(55);delete e.rc[t],e.timestamp=Date.now()},Rc:function(e){var t,r=[".",".."];for(t in e.rc)e.rc.hasOwnProperty(t)&&r.push(t);return r},Sc:function(e,t,r){return(e=fe.createNode(e,t,41471,0)).link=r,e},Mc:function(e){if(40960!=(61440&e.mode))throw new ge(28);return e.link}},sc:{read:function(e,t,r,i,a){var n=e.node.rc;if(a>=e.node.tc)return 0;if(8<(e=Math.min(e.node.tc-a,i))&&n.subarray)t.set(n.subarray(a,a+e),r);else for(i=0;i<e;i++)t[r+i]=n[a+i];return e},write:function(e,t,r,i,a,n){if(t.buffer===y.buffer&&(n=!1),!i)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.rc||e.rc.subarray)){if(n)return e.rc=t.subarray(r,r+i),e.tc=i;if(0===e.tc&&0===a)return e.rc=t.slice(r,r+i),e.tc=i;if(a+i<=e.tc)return e.rc.set(t.subarray(r,r+i),a),i}if(fe.ed(e,a+i),e.rc.subarray&&t.subarray)e.rc.set(t.subarray(r,r+i),a);else for(n=0;n<i;n++)e.rc[a+n]=t[r+n];return e.tc=Math.max(e.tc,a+i),i},Ec:function(e,t,r){if(1===r?t+=e.position:2===r&&32768==(61440&e.node.mode)&&(t+=e.node.tc),0>t)throw new ge(28);return t},cd:function(e,t,r){fe.ed(e.node,t+r),e.node.tc=Math.max(e.node.tc,t+r)},jd:function(e,t,r,i,a,n){if(0!==t)throw new ge(28);if(32768!=(61440&e.node.mode))throw new ge(43);if(e=e.node.rc,2&n||e.buffer!==g){for((0<i||i+r<e.length)&&(e=e.subarray?e.subarray(i,i+r):Array.prototype.slice.call(e,i,i+r)),i=!0,n=16384*Math.ceil(r/16384),t=nr(n);r<n;)y[t+r++]=0;if(!(r=t))throw new ge(48);y.set(e,r)}else i=!1,r=e.byteOffset;return{Hc:r,Ud:i}},ld:function(e,t,r,i,a){if(32768!=(61440&e.node.mode))throw new ge(43);return 2&a||fe.sc.write(e,t,0,i,r,!1),0}}},le=null,de={},pe=[],he=1,me=null,be=!0,we={},ge=null,ye={};function ve(e,t){if(t=t||{},!(e=ne("/",e)))return{path:"",node:null};var r,i={fd:!0,ad:0};for(r in i)void 0===t[r]&&(t[r]=i[r]);if(8<t.ad)throw new ge(32);e=te(e.split("/").filter(function(e){return!!e}),!1);var a=le;for(i="/",r=0;r<e.length;r++){var n=r===e.length-1;if(n&&t.parent)break;if(a=Te(a,e[r]),i=re(i+"/"+e[r]),a.Kc&&(!n||n&&t.fd)&&(a=a.Kc.root),!n||t.Pc)for(n=0;40960==(61440&a.mode);)if(a=qe(i),a=ve(i=ne(ie(i),a),{ad:t.ad}).node,40<n++)throw new ge(32)}return{path:i,node:a}}function Ee(e){for(var t;;){if(e===e.parent)return e=e.Bc.kd,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Ae(e,t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return(e+r>>>0)%me.length}function Te(e,t){var r;if(r=(r=Le(e,"x"))?r:e.qc.Jc?0:2)throw new ge(r,e);for(r=me[Ae(e.id,t)];r;r=r.Fc){var i=r.name;if(r.parent.id===e.id&&i===t)return r}return e.qc.Jc(e,t)}function ke(e,t,r,i){return t=Ae((e=new er(e,t,r,i)).parent.id,e.name),e.Fc=me[t],me[t]=e}var xe={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function Re(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function Le(e,t){return be||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2}function Fe(e,t){try{return Te(e,t),20}catch(r){}return Le(e,"wx")}function ze(e,t){Oe||((Oe=function(){}).prototype={});var r,i=new Oe;for(r in e)i[r]=e[r];return e=i,t=function(e){for(e=e||0;e<=4096;e++)if(!pe[e])return e;throw new ge(33)}(t),e.Cc=t,pe[t]=e}var Me,Ie,Oe,Pe,Se={open:function(e){e.sc=de[e.node.Lc].sc,e.sc.open&&e.sc.open(e)},Ec:function(){throw new ge(70)}};function Ce(e,t){de[e]={sc:t}}function Be(e,t){var r="/"===t,i=!t;if(r&&le)throw new ge(10);if(!r&&!i){var a=ve(t,{fd:!1});if(t=a.path,(a=a.node).Kc)throw new ge(10);if(16384!=(61440&a.mode))throw new ge(54)}t={type:e,be:{},kd:t,Cd:[]},(e=e.Bc(t)).Bc=t,t.root=e,r?le=e:a&&(a.Kc=t,a.Bc&&a.Bc.Cd.push(t))}function De(e,t,r){var i=ve(e,{parent:!0}).node;if(!(e=ae(e))||"."===e||".."===e)throw new ge(28);var a=Fe(i,e);if(a)throw new ge(a);if(!i.qc.Qc)throw new ge(63);return i.qc.Qc(i,e,t,r)}function Ue(e){return De(e,16895,0)}function Ve(e,t,r){void 0===r&&(r=t,t=438),De(e,8192|t,r)}function Ne(e,t){if(!ne(e))throw new ge(44);var r=ve(t,{parent:!0}).node;if(!r)throw new ge(44);var i=Fe(r,t=ae(t));if(i)throw new ge(i);if(!r.qc.Sc)throw new ge(63);r.qc.Sc(r,t,e)}function qe(e){if(!(e=ve(e).node))throw new ge(44);if(!e.qc.Mc)throw new ge(28);return ne(Ee(e.parent),e.qc.Mc(e))}function Ge(e,t){if(!(e=ve(e,{Pc:!t}).node))throw new ge(44);if(!e.qc.yc)throw new ge(63);return e.qc.yc(e)}function We(e){return Ge(e,!0)}function He(e,t,i,a){if(""===e)throw new ge(44);if("string"==typeof t){var n=xe[t];if(void 0===n)throw Error("Unknown file open mode: "+t);t=n}if(i=64&t?4095&(void 0===i?438:i)|32768:0,"object"==typeof e)var o=e;else{e=re(e);try{o=ve(e,{Pc:!(131072&t)}).node}catch(s){}}if(n=!1,64&t)if(o){if(128&t)throw new ge(20)}else o=De(e,i,0),n=!0;if(!o)throw new ge(44);if(8192==(61440&o.mode)&&(t&=-513),65536&t&&16384!=(61440&o.mode))throw new ge(54);if(!n&&(i=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==Re(t)||512&t)?31:Le(o,Re(t)):44))throw new ge(i);if(512&t){if(!(i="string"==typeof(i=o)?ve(i,{Pc:!0}).node:i).qc.Ac)throw new ge(63);if(16384==(61440&i.mode))throw new ge(31);if(32768!=(61440&i.mode))throw new ge(28);if(n=Le(i,"w"))throw new ge(n);i.qc.Ac(i,{size:0,timestamp:Date.now()})}t&=-131713,(a=ze({node:o,path:Ee(o),flags:t,seekable:!0,position:0,sc:o.sc,Rd:[],error:!1},a)).sc.open&&a.sc.open(a),!r.logReadFiles||1&t||(Pe||(Pe={}),e in Pe||(Pe[e]=1,p("FS.trackingDelegate error on read file: "+e)));try{we.onOpenFile&&(o=0,1!=(2097155&t)&&(o|=1),!!(2097155&t)&&(o|=2),we.onOpenFile(e,o))}catch(s){p("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+s.message)}return a}function Ye(e,t,r){if(null===e.Cc)throw new ge(8);if(!e.seekable||!e.sc.Ec)throw new ge(70);if(0!=r&&1!=r&&2!=r)throw new ge(28);return e.position=e.sc.Ec(e,t,r),e.Rd=[],e.position}function Xe(){ge||((ge=function(e,t){this.node=t,this.Hd=function(e){this.vc=e},this.Hd(e),this.message="FS error"}).prototype=Error(),ge.prototype.constructor=ge,[44].forEach(function(e){ye[e]=new ge(e),ye[e].stack="<generic error, no stack>"}))}function Ze(e,t,r){e=re("/dev/"+e);var i=function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}(!!t,!!r);Ie||(Ie=64);var a=Ie++<<8;Ce(a,{open:function(e){e.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,r,i,a){for(var n=0,o=0;o<a;o++){try{var s=t()}catch(_){throw new ge(29)}if(void 0===s&&0===n)throw new ge(6);if(null==s)break;n++,r[i+o]=s}return n&&(e.node.timestamp=Date.now()),n},write:function(e,t,i,a){for(var n=0;n<a;n++)try{r(t[i+n])}catch(o){throw new ge(29)}return a&&(e.node.timestamp=Date.now()),n}}),Ve(e,i,a)}function je(e,t,r){try{var i=e(t)}catch(a){if(a&&a.node&&re(t)!==re(Ee(a.node)))return-54;throw a}return T[r>>2]=i.td,T[r+4>>2]=0,T[r+8>>2]=i.Zc,T[r+12>>2]=i.mode,T[r+16>>2]=i.Ed,T[r+20>>2]=i.uid,T[r+24>>2]=i.wd,T[r+28>>2]=i.Lc,T[r+32>>2]=0,Z=[i.size>>>0,(X=i.size,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[r+40>>2]=Z[0],T[r+44>>2]=Z[1],T[r+48>>2]=4096,T[r+52>>2]=i.rd,T[r+56>>2]=i.pd.getTime()/1e3|0,T[r+60>>2]=0,T[r+64>>2]=i.Dd.getTime()/1e3|0,T[r+68>>2]=0,T[r+72>>2]=i.sd.getTime()/1e3|0,T[r+76>>2]=0,Z=[i.Zc>>>0,(X=i.Zc,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[r+80>>2]=Z[0],T[r+84>>2]=Z[1],0}var Ke=void 0;function Je(){return T[(Ke+=4)-4>>2]}function $e(e){if(!(e=pe[e]))throw new ge(8);return e}function Qe(e){try{e()}catch(t){if(!(t instanceof pr)&&"unwind"!==t)throw t&&"object"==typeof t&&t.stack&&p("exception thrown: "+[t,t.stack]),t}}var et,tt,rt,it=null,at=0,nt=null,ot=0,st=0,_t=0,ct=[],ut={},ft=!1,lt=!1,dt=[];function pt(){function e(){lt=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}if(r.preloadPlugins||(r.preloadPlugins=[]),!Tt){Tt=!0;try{kt=!0}catch(i){kt=!1}xt="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:kt?null:void 0,Rt="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,r.md||void 0!==Rt||(r.md=!0),r.preloadPlugins.push({canHandle:function(e){return!r.md&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,i,a){var n=null;if(kt)try{(n=new Blob([e],{type:At(t)})).size!==e.length&&(n=new Blob([new Uint8Array(e).buffer],{type:At(t)}))}catch(_){!function(e){f||(f={}),f[e]||(f[e]=1,p(e))}("Blob constructor present but fails: "+_+"; falling back to blob builder")}n||((n=new xt).append(new Uint8Array(e).buffer),n=n.getBlob());var o=Rt.createObjectURL(n),s=new Image;s.onload=function(){b(s.complete,"Image "+t+" could not be decoded");var a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0),r.preloadedImages[t]=a,Rt.revokeObjectURL(o),i&&i(e)},s.onerror=function(){a&&a()},s.src=o}}),r.preloadPlugins.push({canHandle:function(e){return!r.ae&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,i,a){function n(a){s||(s=!0,r.preloadedAudios[t]=a,i&&i(e))}function o(){s||(s=!0,r.preloadedAudios[t]=new Audio,a&&a())}var s=!1;if(!kt)return o();try{var _=new Blob([e],{type:At(t)})}catch(u){return o()}_=Rt.createObjectURL(_);var c=new Audio;c.addEventListener("canplaythrough",function(){n(c)},!1),c.onerror=function(){if(!s){for(var r="",i=0,a=0,o=0;o<e.length;o++)for(i=i<<8|e[o],a+=8;6<=a;){var _=i>>a-6&63;a-=6,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[_]}2==a?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&i)<<4],r+="=="):4==a&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&i)<<2],r+="="),c.src="data:audio/x-"+t.substr(-3)+";base64,"+r,n(c)}},c.src=_,Et(function(){n(c)},1e4)}});var t=r.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),r.elementPointerLock&&t.addEventListener("click",function(e){!lt&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),e.preventDefault())},!1))}}function ht(e,t,i,a){if(t&&r.Yc&&e==r.canvas)return r.Yc;var n;if(t){var o={antialias:!1,alpha:!1,Bd:1};if(a)for(var s in a)o[s]=a[s];if(void 0!==Xt&&(n=function(e,t){e.gd||(e.gd=e.getContext,e.getContext=function(t,r){return"webgl"==t==(r=e.gd(t,r))instanceof WebGLRenderingContext?r:null});var r=e.getContext("webgl",t);return r?function(e,t){var r=Gt(qt),i={Zd:r,attributes:t,version:t.Bd,Xc:e};return e.canvas&&(e.canvas.Td=i),qt[r]=i,(void 0===t.ud||t.ud)&&function(e){if(e||(e=Ht),!e.zd){e.zd=!0;var t=e.Xc;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,i,a){t.drawArraysInstancedANGLE(e,r,i,a)},e.drawElementsInstanced=function(e,r,i,a,n){t.drawElementsInstancedANGLE(e,r,i,a,n)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})}(t),t.Wd=t.getExtension("EXT_disjoint_timer_query"),t.$d=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(e){0>e.indexOf("lose_context")&&0>e.indexOf("debug")&&t.getExtension(e)})}}(i),r}(r,t):0}(e,o)))var _=qt[n].Xc}else _=e.getContext("2d");return _?(i&&(t||b(void 0===Kt,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.Yc=_,t&&(Ht=qt[n],r.Yc=Kt=Ht&&Ht.Xc),r.ee=t,dt.forEach(function(e){e()}),pt()),_):null}var mt=!1,bt=void 0,wt=void 0;function gt(){return!!ft&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)}var yt=0;function vt(e){if("function"==typeof requestAnimationFrame)requestAnimationFrame(e);else{var t=Date.now();if(0===yt)yt=t+1e3/60;else for(;t+2>=yt;)yt+=1e3/60;setTimeout(e,Math.max(yt-t,0))}}function Et(e,t){setTimeout(function(){Qe(e)},t)}function At(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var Tt,kt,xt,Rt,Lt=[];function Ft(){var e=r.canvas;Lt.forEach(function(t){t(e.width,e.height)})}function zt(e,t,i){t&&i?(e.Sd=t,e.xd=i):(t=e.Sd,i=e.xd);var a=t,n=i;if(r.forcedAspectRatio&&0<r.forcedAspectRatio&&(a/n<r.forcedAspectRatio?a=Math.round(n*r.forcedAspectRatio):n=Math.round(a/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/a,screen.height/n);a=Math.round(a*o),n=Math.round(n*o)}wt?(e.width!=a&&(e.width=a),e.height!=n&&(e.height=n),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),void 0!==e.style&&(a!=t||n!=i?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",n+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}function Mt(){return!1}r._emscripten_is_main_browser_thread=Mt;var It,Ot=[];function Pt(e,t){k[e>>2]=t,k[e+4>>2]=t/4294967296|0}function St(e,t,r,i,a){function n(t){var r=0,i=0;t&&(i=y.response?y.response.byteLength:0,r=nr(i),v.set(new Uint8Array(y.response),r)),k[e+12>>2]=r,Pt(e+16,i)}var o=k[e+8>>2];if(o){var s=z(o),_=e+112,c=z(_);c||(c="GET");var u=k[_+52>>2],f=k[_+56>>2],l=!!k[_+60>>2],d=k[_+68>>2],p=k[_+72>>2];o=k[_+76>>2];var h=k[_+80>>2],m=k[_+84>>2];_=k[_+88>>2];var b=!!(1&u),w=!!(2&u);u=!!(64&u),d=d?z(d):void 0,p=p?z(p):void 0;var g=h?z(h):void 0,y=new XMLHttpRequest;if(y.withCredentials=l,y.open(c,s,!u,d,p),u||(y.timeout=f),y.ce=s,y.responseType="arraybuffer",h&&y.overrideMimeType(g),o)for(;(c=k[o>>2])&&(s=k[o+4>>2]);)o+=8,c=z(c),s=z(s),y.setRequestHeader(c,s);Ot.push(y),k[e+0>>2]=Ot.length,o=m&&_?v.slice(m,m+_):null,y.onload=function(i){n(b&&!w);var a=y.response?y.response.byteLength:0;Pt(e+24,0),a&&Pt(e+32,a),A[e+40>>1]=y.readyState,A[e+42>>1]=y.status,y.statusText&&M(y.statusText,v,e+44,64),200<=y.status&&300>y.status?t&&t(e,y,i):r&&r(e,y,i)},y.onerror=function(t){n(b);var i=y.status;Pt(e+24,0),Pt(e+32,y.response?y.response.byteLength:0),A[e+40>>1]=y.readyState,A[e+42>>1]=i,r&&r(e,y,t)},y.ontimeout=function(t){r&&r(e,y,t)},y.onprogress=function(t){var r=b&&w&&y.response?y.response.byteLength:0,a=0;b&&w&&(a=nr(r),v.set(new Uint8Array(y.response),a)),k[e+12>>2]=a,Pt(e+16,r),Pt(e+24,t.loaded-r),Pt(e+32,t.total),A[e+40>>1]=y.readyState,3<=y.readyState&&0===y.status&&0<t.loaded&&(y.status=200),A[e+42>>1]=y.status,y.statusText&&M(y.statusText,v,e+44,64),i&&i(e,y,t),a&&ar(a)},y.onreadystatechange=function(t){A[e+40>>1]=y.readyState,2<=y.readyState&&(A[e+42>>1]=y.status),a&&a(e,y,t)};try{y.send(o)}catch(E){r&&r(e,y,E)}}else r(e,0,"no url specified!")}function Ct(e,t,r,i){var a=It;if(a){var n=k[e+112+64>>2];n||(n=k[e+8>>2]);var o=z(n);try{var s=a.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,o);s.onsuccess=function(){A[e+40>>1]=4,A[e+42>>1]=200,M("OK",v,e+44,64),r(e,0,o)},s.onerror=function(t){A[e+40>>1]=4,A[e+42>>1]=413,M("Payload Too Large",v,e+44,64),i(e,0,t)}}catch(_){i(e,0,_)}}else i(e,0,"IndexedDB not available!")}var Bt,Dt={};function Ut(){if(!Bt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"};for(e in Dt)t[e]=Dt[e];var r=[];for(e in t)r.push(e+"="+t[e]);Bt=r}return Bt}var Vt=1,Nt=[],qt=[];function Gt(e){for(var t=Vt++,r=e.length;r<t;r++)e[r]=null;return t}var Wt,Ht,Yt,Xt={};function Zt(e){return 0==e%4&&(0!=e%100||0==e%400)}function jt(e,t){for(var r=0,i=0;i<=t;r+=e[i++]);return r}var Kt,Jt=[31,29,31,30,31,30,31,31,30,31,30,31],$t=[31,28,31,30,31,30,31,31,30,31,30,31];function Qt(e,t){for(e=new Date(e.getTime());0<t;){var r=e.getMonth(),i=(Zt(e.getFullYear())?Jt:$t)[r];if(!(t>i-e.getDate())){e.setDate(e.getDate()+t);break}t-=i-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function er(e,t,r,i){e||(e=this),this.parent=e,this.Bc=e.Bc,this.Kc=null,this.id=he++,this.name=t,this.mode=r,this.qc={},this.sc={},this.Lc=i}function tr(e,t){var r=Array(I(e)+1);return e=M(e,r,0,r.length),t&&(r.length=e),r}Object.defineProperties(er.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Xe(),me=Array(4096),Be(fe,"/"),Ue("/tmp"),Ue("/home"),Ue("/home/web_user"),function(){Ue("/dev"),Ce(259,{read:function(){return 0},write:function(e,t,r,i){return i}}),Ve("/dev/null",259),se(1280,ce),se(1536,ue),Ve("/dev/tty",1280),Ve("/dev/tty1",1536);var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){Y("randomDevice")}}();Ze("random",e),Ze("urandom",e),Ue("/dev/shm"),Ue("/dev/shm/tmp")}(),function(){Ue("/proc");var e=Ue("/proc/self");Ue("/proc/self/fd"),Be({Bc:function(){var t=ke(e,"fd",16895,73);return t.qc={Jc:function(e,t){var r=pe[+t];if(!r)throw new ge(8);return(e={parent:null,Bc:{kd:"fake"},qc:{Mc:function(){return r.path}}}).parent=e}},t}},"/proc/self/fd")}(),r.requestFullscreen=function(e,t){!function(e,t){function i(){ft=!1;var e=a.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(a.exitFullscreen=gt,bt&&a.requestPointerLock(),ft=!0,wt?("undefined"!=typeof SDL&&(T[SDL.screen>>2]=8388608|k[SDL.screen>>2]),zt(r.canvas),Ft()):zt(a)):(e.parentNode.insertBefore(a,e),e.parentNode.removeChild(e),wt?("undefined"!=typeof SDL&&(T[SDL.screen>>2]=-8388609&k[SDL.screen>>2]),zt(r.canvas),Ft()):zt(a)),r.onFullScreen&&r.onFullScreen(ft),r.onFullscreen&&r.onFullscreen(ft)}void 0===(bt=e)&&(bt=!0),void 0===(wt=t)&&(wt=!1);var a=r.canvas;mt||(mt=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var n=document.createElement("div");a.parentNode.insertBefore(n,a),n.appendChild(a),n.requestFullscreen=n.requestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullscreen?function(){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n.requestFullscreen()}(e,t)},r.requestAnimationFrame=function(e){vt(e)},r.setCanvasSize=function(e,t,i){zt(r.canvas,e,t),i||Ft()},r.pauseMainLoop=function(){it=null,at++},r.resumeMainLoop=function(){at++;var e=ot,t=st,i=nt;nt=null,function(e){function t(){return!(i<at)}b(!nt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),nt=e;var i=at;tt=function(){if(!m)if(0<ct.length){var i,a=Date.now(),n=ct.shift();n.vd(n.Oc),r.setStatus&&(a=r.statusMessage||"Please wait...",n=rt,i=ut.Xd,n?n<i?r.setStatus(a+" ("+(i-n)+"/"+i+")"):r.setStatus(a):r.setStatus("")),t()&&setTimeout(tt,0)}else t()&&(_t=_t+1|0,1==ot&&1<st&&0!=_t%st?it():(0==ot&&(et=j()),m||r.preMainLoop&&!1===r.preMainLoop()||(Qe(e),r.postMainLoop&&r.postMainLoop()),t()&&("object"==typeof SDL&&SDL.audio&&SDL.audio.Fd&&SDL.audio.Fd(),it())))}}(i),function(e,t){if(ot=e,st=t,nt)if(0==e)it=function(){var e=0|Math.max(0,et+t-j());setTimeout(tt,e)};else if(1==e)it=function(){vt(tt)};else if(2==e){if("undefined"==typeof setImmediate){var i=[];addEventListener("message",function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),i.shift()())},!0),setImmediate=function(e){i.push(e),void 0===r.setImmediates&&(r.setImmediates=[]),r.setImmediates.push(e),postMessage({target:"setimmediate"})}}it=function(){setImmediate(tt)}}}(e,t),it()},r.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},r.createContext=function(e,t,r,i){return ht(e,t,r,i)},function(e,t){try{var r=indexedDB.open("emscripten_filesystem",1)}catch(i){return void t()}r.onupgradeneeded=function(e){(e=e.target.result).objectStoreNames.contains("FILES")&&e.deleteObjectStore("FILES"),e.createObjectStore("FILES")},r.onsuccess=function(e){!function(e){It=e,H()}(e.target.result)},r.onerror=function(e){t()}}(0,function(){It=!1,H()}),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||W();var rr={I:function(e,t){return Q(e,t)},a:function(e){return nr(e+16)+16},b:function(e,t,r){throw new ee(e).yd(t,r),e},e:function(e,t,r){Ke=r;try{var i=$e(e);switch(t){case 0:var a=Je();return 0>a?-28:He(i.path,i.flags,0,a).Cc;case 1:case 2:case 13:case 14:return 0;case 3:return i.flags;case 4:return a=Je(),i.flags|=a,0;case 12:return a=Je(),E[a+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return T[sr()>>2]=28,-1}}catch(n){return n instanceof ge||Y(n),-n.vc}},E:function(e,t,r){try{var i=$e(e);if(!i.Dc){var a=ve(i.path,{Pc:!0}).node;if(!a.qc.Rc)throw new ge(54);var n=a.qc.Rc(a);i.Dc=n}e=0;for(var o=Ye(i,0,1),s=Math.floor(o/280);s<i.Dc.length&&e+280<=r;){var _=i.Dc[s];if("."===_[0])var c=1,u=4;else{var f=Te(i.node,_);c=f.id,u=8192==(61440&f.mode)?2:16384==(61440&f.mode)?4:40960==(61440&f.mode)?10:8}Z=[c>>>0,(X=c,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[t+e>>2]=Z[0],T[t+e+4>>2]=Z[1],Z=[280*(s+1)>>>0,(X=280*(s+1),1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[t+e+8>>2]=Z[0],T[t+e+12>>2]=Z[1],E[t+e+16>>1]=280,y[t+e+18|0]=u,M(_,v,t+e+19,256),e+=280,s+=1}return Ye(i,280*s,0),e}catch(l){return l instanceof ge||Y(l),-l.vc}},n:function(){return 42},G:function(e,t,r){Ke=r;try{var i=$e(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return i.uc?0:-59;case 21519:if(!i.uc)return-59;var a=Je();return T[a>>2]=0;case 21520:return i.uc?-28:-59;case 21531:if(e=a=Je(),!i.sc.Ad)throw new ge(59);return i.sc.Ad(i,t,e);default:Y("bad ioctl syscall "+t)}}catch(n){return n instanceof ge||Y(n),-n.vc}},H:function(e,t){try{return je(We,e=z(e),t)}catch(r){return r instanceof ge||Y(r),-r.vc}},p:function(e,t,r){Ke=r;try{return He(z(e),t,r?Je():0).Cc}catch(i){return i instanceof ge||Y(i),-i.vc}},J:function(e,t){try{return je(Ge,e=z(e),t)}catch(r){return r instanceof ge||Y(r),-r.vc}},C:function(e,t){try{return Ne(e=z(e),t=z(t)),0}catch(r){return r instanceof ge||Y(r),-r.vc}},K:function(e){try{if(!e)return-21;var t={__size__:390,domainname:325,machine:260,nodename:65,release:130,sysname:0,version:195};return P("Emscripten",e+t.sysname),P("emscripten",e+t.nodename),P("1.0",e+t.release),P("#1",e+t.version),P("wasm32",e+t.machine),0}catch(r){return r instanceof ge||Y(r),-r.vc}},D:function(e){try{var t=ve(e=z(e),{parent:!0}).node,r=ae(e),i=Te(t,r);e:{try{var a=Te(t,r)}catch(c){var n=c.vc;break e}var o=Le(t,"wx");n=o||(16384==(61440&a.mode)?31:0)}if(n)throw new ge(n);if(!t.qc.Wc)throw new ge(63);if(i.Kc)throw new ge(10);try{we.willDeletePath&&we.willDeletePath(e)}catch(c){p("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+c.message)}t.qc.Wc(t,r);var s=Ae(i.parent.id,i.name);if(me[s]===i)me[s]=i.Fc;else for(var _=me[s];_;){if(_.Fc===i){_.Fc=i.Fc;break}_=_.Fc}try{we.onDeletePath&&we.onDeletePath(e)}catch(c){p("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+c.message)}return 0}catch(c){return c instanceof ge||Y(c),-c.vc}},L:function(e){delete Ot[e-1]},c:function(){Y()},h:Q,P:function(e,t){return e-t},R:function(){self.postMessage({t:"gfx"})},t:function(){var e=new URL(location.origin).hostname;if(0===e.length&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))0===e.indexOf("10.")&&(e="10.*"),0===e.indexOf("192.168.")&&(e="192.168.*"),0===e.indexOf("172.")&&(e="172.*"),0===e.indexOf("127.")&&(e="127.*");else{var t=new RegExp("("+String.fromCharCode(92)+".ngrok"+String.fromCharCode(92)+".io)$","i");t.test(e)&&(e="*.ngrok.io"),(t=new RegExp("("+String.fromCharCode(92)+".ngrok-free"+String.fromCharCode(92)+".app)$","i")).test(e)&&(e="*.ngrok.io"),(t=new RegExp("("+String.fromCharCode(92)+".arweb"+String.fromCharCode(92)+".app)$","i")).test(e)&&(e="*.arweb.app")}t=I(e)+1;var r=nr(t);return M(e,v,r,t+1),r},s:function(){self.postMessage({t:"licerr"})},l:function(e,t,r){function i(){C.get(e)(t)}0<=r?Et(i,r):function(e){vt(function(){Qe(e)})}(i)},x:function(){return 2147483648},N:Mt,v:function(e,t,r){v.copyWithin(e,t,t+r)},w:function(e){var t=v.length;if(2147483648<e)return!1;for(var r=1;4>=r;r*=2){var i=t*(1+.2/r);i=Math.min(i,e+100663296),0<(i=Math.max(e,i))%65536&&(i+=65536-i%65536);e:{try{h.grow(Math.min(2147483648,i)-g.byteLength+65535>>>16),S();var a=1;break e}catch(n){}a=void 0}if(a)return!0}return!1},M:function(e,t,r,i,a){function n(e,r){Ct(e,r.response,function(e){Qe(function(){l?C.get(l)(e):t&&t(e)})},function(e){Qe(function(){l?C.get(l)(e):t&&t(e)})})}function o(e){Qe(function(){h?C.get(h)(e):a&&a(e)})}function s(e){Qe(function(){d?C.get(d)(e):r&&r(e)})}function _(e){Qe(function(){p?C.get(p)(e):i&&i(e)})}function c(e){Qe(function(){l?C.get(l)(e):t&&t(e)})}var u=e+112,f=z(u),l=k[u+36>>2],d=k[u+40>>2],p=k[u+44>>2],h=k[u+48>>2],m=k[u+52>>2],b=!!(4&m),w=!!(32&m);if(m=!!(16&m),"EM_IDB_STORE"===f)f=k[u+84>>2],Ct(e,v.slice(f,f+k[u+88>>2]),c,s);else if("EM_IDB_DELETE"===f)!function(e,t,r){var i=It;if(i){var a=k[e+112+64>>2];a||(a=k[e+8>>2]),a=z(a);try{var o=i.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);o.onsuccess=function(r){r=r.target.result,k[e+12>>2]=0,Pt(e+16,0),Pt(e+24,0),Pt(e+32,0),A[e+40>>1]=4,A[e+42>>1]=200,M("OK",v,e+44,64),t(e,0,r)},o.onerror=function(t){A[e+40>>1]=4,A[e+42>>1]=404,M("Not Found",v,e+44,64),r(e,0,t)}}catch(n){r(e,0,n)}}else r(e,0,"IndexedDB not available!")}(e,c,s);else if(m){if(w)return 0;St(e,b?n:c,s,_,o)}else!function(e,t,r){var i=It;if(i){var a=k[e+112+64>>2];a||(a=k[e+8>>2]),a=z(a);try{var o=i.transaction(["FILES"],"readonly").objectStore("FILES").get(a);o.onsuccess=function(i){if(i.target.result){var a=(i=i.target.result).byteLength||i.length,n=nr(a);v.set(new Uint8Array(i),n),k[e+12>>2]=n,Pt(e+16,a),Pt(e+24,0),Pt(e+32,a),A[e+40>>1]=4,A[e+42>>1]=200,M("OK",v,e+44,64),t(e,0,i)}else A[e+40>>1]=4,A[e+42>>1]=404,M("Not Found",v,e+44,64),r(e,0,"no data")},o.onerror=function(t){A[e+40>>1]=4,A[e+42>>1]=404,M("Not Found",v,e+44,64),r(e,0,t)}}catch(n){r(e,0,n)}}else r(e,0,"IndexedDB not available!")}(e,c,w?s:b?function(e){St(e,n,s,_,o)}:function(e){St(e,c,s,_,o)});return e},A:function(e,t){try{var r=0;return Ut().forEach(function(i,a){var n=t+r;T[e+4*a>>2]=n,P(i,n),r+=i.length+1}),0}catch(i){return i instanceof ge||Y(i),i.vc}},B:function(e,t){try{var r=Ut();T[e>>2]=r.length;var i=0;return r.forEach(function(e){i+=e.length+1}),T[t>>2]=i,0}catch(a){return a instanceof ge||Y(a),a.vc}},O:function(e){!function(e){_(e,new pr(e))}(e)},g:function(e){try{var t=$e(e);if(null===t.Cc)throw new ge(8);t.Dc&&(t.Dc=null);try{t.sc.close&&t.sc.close(t)}catch(r){throw r}finally{pe[t.Cc]=null}return t.Cc=null,0}catch(r){return r instanceof ge||Y(r),r.vc}},F:function(e,t,r,i){try{e:{for(var a=$e(e),n=e=0;n<r;n++){var o=T[t+(8*n+4)>>2],s=a,_=T[t+8*n>>2],c=o,u=void 0,f=y;if(0>c||0>u)throw new ge(28);if(null===s.Cc)throw new ge(8);if(1==(2097155&s.flags))throw new ge(8);if(16384==(61440&s.node.mode))throw new ge(31);if(!s.sc.read)throw new ge(28);var l=void 0!==u;if(l){if(!s.seekable)throw new ge(70)}else u=s.position;var d=s.sc.read(s,f,_,c,u);l||(s.position+=d);var p=d;if(0>p){var h=-1;break e}if(e+=p,p<o)break}h=e}return T[i>>2]=h,0}catch(m){return m instanceof ge||Y(m),m.vc}},u:function(e,t,r,i,a){try{var n=$e(e);return-9007199254740992>=(e=4294967296*r+(t>>>0))||9007199254740992<=e?-61:(Ye(n,e,i),Z=[n.position>>>0,(X=n.position,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[a>>2]=Z[0],T[a+4>>2]=Z[1],n.Dc&&0===e&&0===i&&(n.Dc=null),0)}catch(o){return o instanceof ge||Y(o),o.vc}},k:function(e,t,r,i){try{e:{for(var a=$e(e),n=e=0;n<r;n++){var o=a,s=T[t+8*n>>2],_=T[t+(8*n+4)>>2],c=void 0,u=y;if(0>_||0>c)throw new ge(28);if(null===o.Cc)throw new ge(8);if(!(2097155&o.flags))throw new ge(8);if(16384==(61440&o.node.mode))throw new ge(31);if(!o.sc.write)throw new ge(28);o.seekable&&1024&o.flags&&Ye(o,0,2);var f=void 0!==c;if(f){if(!o.seekable)throw new ge(70)}else c=o.position;var l=o.sc.write(o,u,s,_,c,void 0);f||(o.position+=l);try{o.path&&we.onWriteToFile&&we.onWriteToFile(o.path)}catch(m){p("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+m.message)}var d=l;if(0>d){var h=-1;break e}e+=d}h=e}return T[i>>2]=h,0}catch(m){return m instanceof ge||Y(m),m.vc}},f:function(e){var t=Date.now();return T[e>>2]=t/1e3|0,T[e+4>>2]=t%1e3*1e3|0,0},m:function(e,t){Kt.bindTexture(e,Nt[t])},o:function(e,t){for(var r=0;r<e;r++){var i=Kt.createTexture(),a=i&&Gt(Nt);i?(i.name=a,Nt[a]=i):Wt||(Wt=1282),T[t+4*r>>2]=a}},i:function(e,t,r,i,a,n,o,s,_){var c=Kt,u=c.texImage2D;if(_){var f=s-5120;f=1==f?v:4==f?T:6==f?x:5==f||28922==f?k:A;var l=31-Math.clz32(f.BYTES_PER_ELEMENT);_=f.subarray(_>>l,_+a*(i*({5:3,6:4,8:2,29502:3,29504:4}[o-6402]||1)*(1<<l)+4-1&-4)>>l)}else _=null;u.call(c,e,t,r,i,a,n,o,s,_)},j:function(e,t,r){Kt.texParameteri(e,t,r)},r:function e(t,r){return t=new Date(1e3*T[t>>2]),T[r>>2]=t.getUTCSeconds(),T[r+4>>2]=t.getUTCMinutes(),T[r+8>>2]=t.getUTCHours(),T[r+12>>2]=t.getUTCDate(),T[r+16>>2]=t.getUTCMonth(),T[r+20>>2]=t.getUTCFullYear()-1900,T[r+24>>2]=t.getUTCDay(),T[r+36>>2]=0,T[r+32>>2]=0,T[r+28>>2]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,e.bd||(e.bd=O("GMT")),T[r+40>>2]=e.bd,r},q:function(e,t){!function(){function e(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(!Yt){Yt=!0;var t=(new Date).getFullYear(),r=new Date(t,0,1),i=new Date(t,6,1);t=r.getTimezoneOffset();var a=i.getTimezoneOffset(),n=Math.max(t,a);T[ur()>>2]=60*n,T[cr()>>2]=Number(t!=a),r=e(r),i=e(i),r=O(r),i=O(i),a<t?(T[_r()>>2]=r,T[_r()+4>>2]=i):(T[_r()>>2]=i,T[_r()+4>>2]=r)}}(),e=new Date(1e3*T[e>>2]),T[t>>2]=e.getSeconds(),T[t+4>>2]=e.getMinutes(),T[t+8>>2]=e.getHours(),T[t+12>>2]=e.getDate(),T[t+16>>2]=e.getMonth(),T[t+20>>2]=e.getFullYear()-1900,T[t+24>>2]=e.getDay();var r=new Date(e.getFullYear(),0,1);T[t+28>>2]=(e.getTime()-r.getTime())/864e5|0,T[t+36>>2]=-60*e.getTimezoneOffset();var i=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(i!=(r=r.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(r,i)),T[t+32>>2]=e,e=T[_r()+(e?4:0)>>2],T[t+40>>2]=e,t},Q:function(){return 6},y:function(){return 28},z:function(e,t,r,i){return function(e,t,r,i){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function n(e,t){return a(e,t,"0")}function o(e,t){function r(e){return 0>e?-1:0<e?1:0}var i;return 0===(i=r(e.getFullYear()-t.getFullYear()))&&0===(i=r(e.getMonth()-t.getMonth()))&&(i=r(e.getDate()-t.getDate())),i}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function _(e){e=Qt(new Date(e.xc+1900,0,1),e.Vc);var t=new Date(e.getFullYear()+1,0,4),r=s(new Date(e.getFullYear(),0,4));return t=s(t),0>=o(r,e)?0>=o(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=T[i+40>>2];for(var u in i={Pd:T[i>>2],Od:T[i+4>>2],Tc:T[i+8>>2],Nc:T[i+12>>2],Ic:T[i+16>>2],xc:T[i+20>>2],Uc:T[i+24>>2],Vc:T[i+28>>2],de:T[i+32>>2],Nd:T[i+36>>2],Qd:c?z(c):""},r=z(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(u,"g"),c[u]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l="January February March April May June July August September October November December".split(" ");for(u in c={"%a":function(e){return f[e.Uc].substring(0,3)},"%A":function(e){return f[e.Uc]},"%b":function(e){return l[e.Ic].substring(0,3)},"%B":function(e){return l[e.Ic]},"%C":function(e){return n((e.xc+1900)/100|0,2)},"%d":function(e){return n(e.Nc,2)},"%e":function(e){return a(e.Nc,2," ")},"%g":function(e){return _(e).toString().substring(2)},"%G":function(e){return _(e)},"%H":function(e){return n(e.Tc,2)},"%I":function(e){return 0==(e=e.Tc)?e=12:12<e&&(e-=12),n(e,2)},"%j":function(e){return n(e.Nc+jt(Zt(e.xc+1900)?Jt:$t,e.Ic-1),3)},"%m":function(e){return n(e.Ic+1,2)},"%M":function(e){return n(e.Od,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Tc&&12>e.Tc?"AM":"PM"},"%S":function(e){return n(e.Pd,2)},"%t":function(){return"\t"},"%u":function(e){return e.Uc||7},"%U":function(e){var t=new Date(e.xc+1900,0,1),r=0===t.getDay()?t:Qt(t,7-t.getDay());return 0>o(r,e=new Date(e.xc+1900,e.Ic,e.Nc))?n(Math.ceil((31-r.getDate()+(jt(Zt(e.getFullYear())?Jt:$t,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(r,t)?"01":"00"},"%V":function(e){var t=new Date(e.xc+1901,0,4),r=s(new Date(e.xc+1900,0,4));t=s(t);var i=Qt(new Date(e.xc+1900,0,1),e.Vc);return 0>o(i,r)?"53":0>=o(t,i)?"01":n(Math.ceil((r.getFullYear()<e.xc+1900?e.Vc+32-r.getDate():e.Vc+1-r.getDate())/7),2)},"%w":function(e){return e.Uc},"%W":function(e){var t=new Date(e.xc,0,1),r=1===t.getDay()?t:Qt(t,0===t.getDay()?1:7-t.getDay()+1);return 0>o(r,e=new Date(e.xc+1900,e.Ic,e.Nc))?n(Math.ceil((31-r.getDate()+(jt(Zt(e.getFullYear())?Jt:$t,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(r,t)?"01":"00"},"%y":function(e){return(e.xc+1900).toString().substring(2)},"%Y":function(e){return e.xc+1900},"%z":function(e){var t=0<=(e=e.Nd);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Qd},"%%":function(){return"%"}})0<=r.indexOf(u)&&(r=r.replace(new RegExp(u,"g"),c[u](i)));return(u=tr(r,!1)).length>t?0:(y.set(u,e),u.length-1)}(e,t,r,i)},d:function(e){var t=Date.now()/1e3|0;return e&&(T[e>>2]=t),t}},ir=function(){function e(e){r.asm=e.exports,h=r.asm.S,S(),C=r.asm.X,D.unshift(r.asm.T),H()}var t={a:rr};if(W(),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(i){return p("Module.instantiateWasm callback failed with error: "+i),!1}return t=function(e){var t=K;try{e:{try{if(t==K&&l){var r=new Uint8Array(l);break e}if(c){r=c(t);break e}throw"sync fetching of the wasm failed: you can preload it to Module['wasmBinary'] manually, or emcc.py will do that for you when generating HTML (but not JS)"}catch(n){Y(n)}r=void 0}var i=new WebAssembly.Module(r),a=new WebAssembly.Instance(i,e)}catch(n){throw e=n.toString(),p("failed to compile wasm module: "+e),(0<=e.indexOf("imported Memory")||0<=e.indexOf("memory import"))&&p("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."),n}return[a,i]}(t),e(t[0]),r.asm}();r.___wasm_call_ctors=ir.T,r._zappar_has_initialized=ir.U,r._zappar_invert=ir.V,r._zappar_loaded=ir.W,r._zappar_pipeline_create=ir.Y,r._zappar_pipeline_destroy=ir.Z,r._zappar_pipeline_camera_frame_submit=ir._,r._zappar_pipeline_camera_frame_submit_raw_pointer=ir.$,r._zappar_pipeline_frame_update=ir.aa,r._zappar_pipeline_camera_frame_user_data=ir.ba,r._zappar_pipeline_camera_model=ir.ca,r._zappar_pipeline_frame_number=ir.da,r._zappar_pipeline_motion_accelerometer_submit=ir.ea,r._zappar_pipeline_motion_rotation_rate_submit=ir.fa,r._zappar_pipeline_motion_attitude_submit=ir.ga,r._zappar_pipeline_motion_attitude_matrix_submit=ir.ha,r._zappar_pipeline_camera_frame_user_facing=ir.ia,r._zappar_pipeline_camera_frame_texture_matrix=ir.ja,r._zappar_pipeline_camera_pose_with_attitude=ir.ka,r._zappar_pipeline_camera_pose_with_origin=ir.la,r._zappar_pipeline_camera_frame_camera_attitude=ir.ma,r._zappar_pipeline_camera_frame_device_attitude=ir.na,r._zappar_pipeline_camera_frame_texture_gl=ir.oa,r._zappar_pipeline_camera_frame_upload_gl=ir.pa,r._zappar_pipeline_sequence_record_start=ir.qa,r._zappar_pipeline_sequence_record_stop=ir.ra,r._zappar_pipeline_sequence_record_clear=ir.sa,r._zappar_pipeline_sequence_record_device_attitude_matrices_set=ir.ta,r._zappar_pipeline_sequence_record_data_size=ir.ua,r._zappar_pipeline_sequence_record_data=ir.va,r._zappar_pipeline_process_gl=ir.wa,r._zappar_pipeline_camera_pose_default=ir.xa,r._zappar_instant_world_tracker_create=ir.ya,r._zappar_instant_world_tracker_destroy=ir.za,r._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=ir.Aa,r._zappar_instant_world_tracker_anchor_pose_raw=ir.Ba,r._zappar_instant_world_tracker_enabled_set=ir.Ca,r._zappar_instant_world_tracker_enabled=ir.Da,r._zappar_image_tracker_create=ir.Ea,r._zappar_image_tracker_destroy=ir.Fa,r._zappar_image_tracker_target_load_from_memory=ir.Ga,r.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=ir.Ha;var ar=r._free=ir.Ia;r._zappar_image_tracker_anchor_count=ir.Ja,r._zappar_image_tracker_anchor_id=ir.Ka,r._zappar_image_tracker_anchor_pose_raw=ir.La,r._zappar_image_tracker_enabled_set=ir.Ma,r._zappar_image_tracker_enabled=ir.Na,r._zappar_image_tracker_target_loaded_version=ir.Oa,r.__Z33zappar_image_tracker_target_countP23zappar_image_tracker_ti=ir.Pa,r.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=ir.Qa,r.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=ir.Ra,r.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=ir.Sa,r.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=ir.Ta,r.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=ir.Ua,r.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=ir.Va,r.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=ir.Wa,r.__Z38zappar_image_tracker_target_radius_topP23zappar_image_tracker_tii=ir.Xa,r.__Z41zappar_image_tracker_target_radius_bottomP23zappar_image_tracker_tii=ir.Ya,r.__Z39zappar_image_tracker_target_side_lengthP23zappar_image_tracker_tii=ir.Za,r.__Z49zappar_image_tracker_target_physical_scale_factorP23zappar_image_tracker_tii=ir._a,r.__Z49zappar_image_tracker_target_preview_mesh_verticesP23zappar_image_tracker_tii=ir.$a,r.__Z48zappar_image_tracker_target_preview_mesh_normalsP23zappar_image_tracker_tii=ir.ab,r.__Z44zappar_image_tracker_target_preview_mesh_uvsP23zappar_image_tracker_tii=ir.bb,r.__Z48zappar_image_tracker_target_preview_mesh_indicesP23zappar_image_tracker_tii=ir.cb,r.__Z54zappar_image_tracker_target_preview_mesh_vertices_sizeP23zappar_image_tracker_tii=ir.db,r.__Z53zappar_image_tracker_target_preview_mesh_normals_sizeP23zappar_image_tracker_tii=ir.eb,r.__Z49zappar_image_tracker_target_preview_mesh_uvs_sizeP23zappar_image_tracker_tii=ir.fb,r.__Z53zappar_image_tracker_target_preview_mesh_indices_sizeP23zappar_image_tracker_tii=ir.gb,r.__Z32zappar_image_tracker_target_typeP23zappar_image_tracker_tii=ir.hb,r._zappar_face_tracker_create=ir.ib,r._zappar_face_tracker_destroy=ir.jb,r._zappar_face_tracker_model_load_from_memory=ir.kb,r._zappar_face_tracker_anchor_count=ir.lb,r._zappar_face_tracker_anchor_id=ir.mb,r._zappar_face_tracker_anchor_pose_raw=ir.nb,r._zappar_face_tracker_anchor_identity_coefficients=ir.ob,r._zappar_face_tracker_anchor_expression_coefficients=ir.pb,r._zappar_face_tracker_enabled_set=ir.qb,r._zappar_face_tracker_enabled=ir.rb,r._zappar_face_tracker_max_faces_set=ir.sb,r._zappar_face_tracker_max_faces=ir.tb,r._zappar_face_tracker_model_loaded_version=ir.ub,r._zappar_face_landmark_create=ir.vb,r._zappar_face_landmark_destroy=ir.wb,r.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=ir.xb,r._zappar_face_landmark_anchor_pose=ir.yb,r._zappar_barcode_finder_create=ir.zb,r._zappar_barcode_finder_destroy=ir.Ab,r._zappar_barcode_finder_found_number=ir.Bb,r._zappar_barcode_finder_found_text=ir.Cb,r._zappar_barcode_finder_enabled_set=ir.Db,r._zappar_barcode_finder_enabled=ir.Eb,r._zappar_barcode_finder_found_format=ir.Fb,r._zappar_barcode_finder_formats=ir.Gb,r._zappar_barcode_finder_formats_set=ir.Hb;var nr=r._malloc=ir.Ib;r._zappar_face_mesh_create=ir.Jb,r._zappar_face_mesh_destroy=ir.Kb,r.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=ir.Lb,r.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=ir.Mb,r.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=ir.Nb,r.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=ir.Ob,r.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=ir.Pb,r.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=ir.Qb,r.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=ir.Rb,r.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=ir.Sb,r.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=ir.Tb,r.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=ir.Ub,r.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=ir.Vb,r._zappar_camera_source_create=ir.Wb,r._zappar_camera_source_destroy=ir.Xb,r._zappar_camera_source_start=ir.Yb,r._zappar_camera_source_pause=ir.Zb,r._zappar_camera_default_device_id=ir._b,r._zappar_sequence_source_create=ir.$b,r.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=ir.ac,r.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=ir.bc,r.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=ir.cc,r._zappar_sequence_source_destroy=ir.dc,r._zappar_sequence_source_max_playback_fps_set=ir.ec,r._zappar_log_level_set=ir.fc,r._zappar_log_level=ir.gc,r.__Z23zappar_log_redirect_setPFv18zappar_log_level_tPKcE=ir.hc,r._zappar_analytics_project_id_set=ir.ic;var or,sr=r.___errno_location=ir.jc,_r=r.__get_tzname=ir.kc,cr=r.__get_daylight=ir.lc,ur=r.__get_timezone=ir.mc,fr=r.stackSave=ir.nc,lr=r.stackRestore=ir.oc,dr=r.stackAlloc=ir.pc;function pr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function hr(){function e(){if(!or&&(or=!0,r.calledRun=!0,!m)){if(r.noFSInit||Me||(Me=!0,Xe(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?Ze("stdin",r.stdin):Ne("/dev/tty","/dev/stdin"),r.stdout?Ze("stdout",null,r.stdout):Ne("/dev/tty","/dev/stdout"),r.stderr?Ze("stderr",null,r.stderr):Ne("/dev/tty1","/dev/stderr"),He("/dev/stdin",0),He("/dev/stdout",1),He("/dev/stderr",1)),$(D),be=!1,$(U),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var e=r.postRun.shift();V.unshift(e)}$(V)}}if(!(0<q)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)N();$(B),0<q||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e())}}if(r.cwrap=function(e,t,r,i){var a=(r=r||[]).every(function(e){return"number"===e});return"string"!==t&&a&&!i?w(e):function(){return function(e,t,r,i){var a,n={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);t=dr(r),M(e,v,t,r)}return t},array:function(e){var t=dr(e.length);return y.set(e,t),t}},o=w(e),s=[];if(e=0,i)for(var _=0;_<i.length;_++){var c=n[r[_]];c?(0===e&&(e=fr()),s[_]=c(i[_])):s[_]=i[_]}return r=o.apply(null,s),a=r,r="string"===t?z(a):"boolean"===t?!!a:a,0!==e&&lr(e),r}(e,t,r,arguments)}},r.setValue=function(e,t,r){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":y[0|e]=t;break;case"i16":E[e>>1]=t;break;case"i32":T[e>>2]=t;break;case"i64":Z=[t>>>0,(X=t,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],T[e>>2]=Z[0],T[e+4>>2]=Z[1];break;case"float":x[e>>2]=t;break;case"double":R[e>>3]=t;break;default:Y("invalid type for setValue: "+r)}},r.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return y[0|e];case"i16":return E[e>>1];case"i32":case"i64":return T[e>>2];case"float":return x[e>>2];case"double":return R[e>>3];default:Y("invalid type for getValue: "+t)}return null},r.UTF8ToString=z,G=function e(){or||hr(),or||(G=e)},r.run=hr,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return hr(),t});class r{constructor(e){this._messageSender=e,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:e=>this.int(e),bool:e=>this.int(e?1:0),float:e=>this.float(e),string:e=>this.string(e),dataWithLength:e=>this.arrayBuffer(e),type:e=>this.int(e),matrix4x4:e=>this.float32ArrayBuffer(e),matrix3x3:e=>this.float32ArrayBuffer(e),identityCoefficients:e=>this.float32ArrayBuffer(e),expressionCoefficients:e=>this.float32ArrayBuffer(e),cameraModel:e=>this.float32ArrayBuffer(e),timestamp:e=>this.double(e),barcodeFormat:e=>this.int(e),faceLandmarkName:e=>this.int(e),instantTrackerTransformOrientation:e=>this.int(e),logLevel:e=>this.int(e)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(e){this._freeBufferPool.push(e)}_ensureArrayBuffer(e){let t,r=4*(this._offset+e+8);if(this._buffer&&this._buffer.byteLength>=r)return;if(!t){let e=r;e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,t=new ArrayBuffer(e)}let i=this._buffer?this._i32View:void 0;this._buffer=t,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),i&&this._i32View.set(i.subarray(0,this._offset))}sendMessage(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}int(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}double(e){this._ensureArrayBuffer(2),this._offset%2==1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}float(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}int32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}float32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}booleanArray(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}uint8ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,3&e.byteLength&&this._offset++}arrayBuffer(e){let t=new Uint8Array(e);this.uint8ArrayBuffer(t)}uint8ClampedArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,3&e.byteLength&&this._offset++}float32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}uint16ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;let t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,1&e.length&&this._offset++}int32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}uint32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}string(e){let t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,3&t.byteLength&&this._offset++}}class i{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>1===this._i32View[this._startOffset++],type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2==1&&this._startOffset++;let e=this._f64View[this._startOffset/2];return this._startOffset+=2,e},string:()=>{let e=this._i32View[this._startOffset++],t=(new TextDecoder).decode(new Uint8Array(this._buffer,4*this._startOffset,e));return this._startOffset+=e>>2,3&e&&this._startOffset++,t},dataWithLength:()=>{let e=this._i32View[this._startOffset++],t=new Uint8Array(e);return t.set(this._u8View.subarray(4*this._startOffset,4*this._startOffset+e)),this._startOffset+=t.byteLength>>2,3&t.byteLength&&this._startOffset++,t.buffer},matrix4x4:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=e,t},matrix3x3:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=e,t},identityCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=e,t},expressionCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=e,t},cameraModel:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=e,t},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(e){for(;this.hasMessage();){let t=this._i32View[this._offset],r=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(r,this._processor)}}}class a{constructor(e,t){this._impl=e,this._sender=t,this._deserializer=new i,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}processBuffer(e){this._deserializer.setData(e),this._deserializer.forMessages((e,t)=>{switch(e){case 34:this._impl.log_level_set(t.logLevel());break;case 31:this._impl.analytics_project_id_set(t.string(),t.string());break;case 27:{let e=t.type(),i=this._impl.pipeline_create();this._pipeline_by_instance.set(e,i),this._pipeline_id_by_pipeline_id.set(e,e),this.serializersByPipelineId.set(e,new r(t=>{this._sender(e,t)}));break}case 28:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_destroy(r),this._pipeline_by_instance.delete(e);break}case 9:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_frame_update(r);break}case 8:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_camera_frame_submit(r,t.dataWithLength(),t.int(),t.int(),t.int(),t.matrix4x4(),t.cameraModel(),t.bool());break}case 10:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_accelerometer_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 11:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_rotation_rate_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 12:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_attitude_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 13:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_attitude_matrix_submit(r,t.matrix4x4());break}case 29:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=t.string(),n=this._impl.camera_source_create(i,a);this._camera_source_by_instance.set(e,n),this._pipeline_id_by_camera_source_id.set(e,r);break}case 30:{let e=t.type(),r=this._camera_source_by_instance.get(e);if(void 0===r)return;this._impl.camera_source_destroy(r),this._camera_source_by_instance.delete(e);break}case 35:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=this._impl.sequence_source_create(i);this._sequence_source_by_instance.set(e,a),this._pipeline_id_by_sequence_source_id.set(e,r);break}case 36:{let e=t.type(),r=this._sequence_source_by_instance.get(e);if(void 0===r)return;this._impl.sequence_source_destroy(r),this._sequence_source_by_instance.delete(e);break}case 2:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=this._impl.image_tracker_create(i);this._image_tracker_by_instance.set(e,a),this._pipeline_id_by_image_tracker_id.set(e,r);break}case 14:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_destroy(r),this._image_tracker_by_instance.delete(e);break}case 4:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_target_load_from_memory(r,t.dataWithLength());break}case 3:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_enabled_set(r,t.bool());break}case 20:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=this._impl.face_tracker_create(i);this._face_tracker_by_instance.set(e,a),this._pipeline_id_by_face_tracker_id.set(e,r);break}case 21:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_destroy(r),this._face_tracker_by_instance.delete(e);break}case 22:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_model_load_from_memory(r,t.dataWithLength());break}case 23:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_enabled_set(r,t.bool());break}case 24:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_max_faces_set(r,t.int());break}case 25:{let e=t.type(),r=this._impl.face_mesh_create();this._face_mesh_by_instance.set(e,r);break}case 26:{let e=t.type(),r=this._face_mesh_by_instance.get(e);if(void 0===r)return;this._impl.face_mesh_destroy(r),this._face_mesh_by_instance.delete(e);break}case 32:{let e=t.type(),r=t.faceLandmarkName(),i=this._impl.face_landmark_create(r);this._face_landmark_by_instance.set(e,i);break}case 33:{let e=t.type(),r=this._face_landmark_by_instance.get(e);if(void 0===r)return;this._impl.face_landmark_destroy(r),this._face_landmark_by_instance.delete(e);break}case 16:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=this._impl.barcode_finder_create(i);this._barcode_finder_by_instance.set(e,a),this._pipeline_id_by_barcode_finder_id.set(e,r);break}case 17:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_destroy(r),this._barcode_finder_by_instance.delete(e);break}case 18:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_enabled_set(r,t.bool());break}case 19:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_formats_set(r,t.barcodeFormat());break}case 5:{let e=t.type(),r=t.type(),i=this._pipeline_by_instance.get(r),a=this._impl.instant_world_tracker_create(i);this._instant_world_tracker_by_instance.set(e,a),this._pipeline_id_by_instant_world_tracker_id.set(e,r);break}case 15:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_destroy(r),this._instant_world_tracker_by_instance.delete(e);break}case 6:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_enabled_set(r,t.bool());break}case 7:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(r,t.float(),t.float(),t.float(),t.instantTrackerTransformOrientation());break}}})}exploreState(){for(let[e,t]of this._pipeline_by_instance){let r=this._pipeline_id_by_pipeline_id.get(e);if(!r)continue;let i=this.serializersByPipelineId.get(r);i&&(i.sendMessage(7,r=>{r.type(e),r.int(this._impl.pipeline_frame_number(t))}),i.sendMessage(6,r=>{r.type(e),r.cameraModel(this._impl.pipeline_camera_model(t))}),i.sendMessage(5,r=>{r.type(e),r.int(this._impl.pipeline_camera_frame_user_data(t))}),i.sendMessage(11,r=>{r.type(e),r.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(t))}),i.sendMessage(12,r=>{r.type(e),r.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(t))}))}for(let[e,t]of this._camera_source_by_instance){let t=this._pipeline_id_by_camera_source_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._sequence_source_by_instance){let t=this._pipeline_id_by_sequence_source_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._image_tracker_by_instance){let r=this._pipeline_id_by_image_tracker_id.get(e);if(!r)continue;let i=this.serializersByPipelineId.get(r);if(i){i.sendMessage(19,r=>{r.type(e),r.int(this._impl.image_tracker_target_loaded_version(t))}),i.sendMessage(1,r=>{r.type(e),r.int(this._impl.image_tracker_anchor_count(t))});for(let r=0;r<this._impl.image_tracker_anchor_count(t);r++)i.sendMessage(2,i=>{i.type(e),i.int(r),i.string(this._impl.image_tracker_anchor_id(t,r))});for(let r=0;r<this._impl.image_tracker_anchor_count(t);r++)i.sendMessage(3,i=>{i.type(e),i.int(r),i.matrix4x4(this._impl.image_tracker_anchor_pose_raw(t,r))})}}for(let[e,t]of this._face_tracker_by_instance){let r=this._pipeline_id_by_face_tracker_id.get(e);if(!r)continue;let i=this.serializersByPipelineId.get(r);if(i){i.sendMessage(18,r=>{r.type(e),r.int(this._impl.face_tracker_model_loaded_version(t))}),i.sendMessage(13,r=>{r.type(e),r.int(this._impl.face_tracker_anchor_count(t))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)i.sendMessage(14,i=>{i.type(e),i.int(r),i.string(this._impl.face_tracker_anchor_id(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)i.sendMessage(15,i=>{i.type(e),i.int(r),i.matrix4x4(this._impl.face_tracker_anchor_pose_raw(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)i.sendMessage(16,i=>{i.type(e),i.int(r),i.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)i.sendMessage(17,i=>{i.type(e),i.int(r),i.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(t,r))})}}for(let[e,t]of this._face_mesh_by_instance){let t=this._pipeline_id_by_face_mesh_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._face_landmark_by_instance){let t=this._pipeline_id_by_face_landmark_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._barcode_finder_by_instance){let r=this._pipeline_id_by_barcode_finder_id.get(e);if(!r)continue;let i=this.serializersByPipelineId.get(r);if(i){i.sendMessage(8,r=>{r.type(e),r.int(this._impl.barcode_finder_found_number(t))});for(let r=0;r<this._impl.barcode_finder_found_number(t);r++)i.sendMessage(9,i=>{i.type(e),i.int(r),i.string(this._impl.barcode_finder_found_text(t,r))});for(let r=0;r<this._impl.barcode_finder_found_number(t);r++)i.sendMessage(10,i=>{i.type(e),i.int(r),i.barcodeFormat(this._impl.barcode_finder_found_format(t,r))})}}for(let[e,t]of this._instant_world_tracker_by_instance){let r=this._pipeline_id_by_instant_world_tracker_id.get(e);if(!r)continue;let i=this.serializersByPipelineId.get(r);i&&i.sendMessage(4,r=>{r.type(e),r.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(t))})}}}class n{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}class o{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e){for(var t=0,r=this._funcs.length;t<r;t++)this._funcs[t](e)}}var s,_,c,u,f,l,d,p,h,m,b,w,g="undefined"!=typeof Float32Array?Float32Array:Array;function y(){var e=new g(16);return g!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function v(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),(_=s||(s={}))[_.UNKNOWN=131072]="UNKNOWN",_[_.AZTEC=1]="AZTEC",_[_.CODABAR=2]="CODABAR",_[_.CODE_39=4]="CODE_39",_[_.CODE_93=8]="CODE_93",_[_.CODE_128=16]="CODE_128",_[_.DATA_MATRIX=32]="DATA_MATRIX",_[_.EAN_8=64]="EAN_8",_[_.EAN_13=128]="EAN_13",_[_.ITF=256]="ITF",_[_.MAXICODE=512]="MAXICODE",_[_.PDF_417=1024]="PDF_417",_[_.QR_CODE=2048]="QR_CODE",_[_.RSS_14=4096]="RSS_14",_[_.RSS_EXPANDED=8192]="RSS_EXPANDED",_[_.UPC_A=16384]="UPC_A",_[_.UPC_E=32768]="UPC_E",_[_.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",_[_.ALL=131071]="ALL",(u=c||(c={}))[u.EYE_LEFT=0]="EYE_LEFT",u[u.EYE_RIGHT=1]="EYE_RIGHT",u[u.EAR_LEFT=2]="EAR_LEFT",u[u.EAR_RIGHT=3]="EAR_RIGHT",u[u.NOSE_BRIDGE=4]="NOSE_BRIDGE",u[u.NOSE_TIP=5]="NOSE_TIP",u[u.NOSE_BASE=6]="NOSE_BASE",u[u.LIP_TOP=7]="LIP_TOP",u[u.LIP_BOTTOM=8]="LIP_BOTTOM",u[u.MOUTH_CENTER=9]="MOUTH_CENTER",u[u.CHIN=10]="CHIN",u[u.EYEBROW_LEFT=11]="EYEBROW_LEFT",u[u.EYEBROW_RIGHT=12]="EYEBROW_RIGHT",(l=f||(f={}))[l.WORLD=3]="WORLD",l[l.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",l[l.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",l[l.UNCHANGED=6]="UNCHANGED",(p=d||(d={}))[p.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",p[p.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",p[p.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",p[p.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE",(m=h||(h={}))[m.FRAME_PIXEL_FORMAT_I420=0]="FRAME_PIXEL_FORMAT_I420",m[m.FRAME_PIXEL_FORMAT_I420A=1]="FRAME_PIXEL_FORMAT_I420A",m[m.FRAME_PIXEL_FORMAT_I422=2]="FRAME_PIXEL_FORMAT_I422",m[m.FRAME_PIXEL_FORMAT_I444=3]="FRAME_PIXEL_FORMAT_I444",m[m.FRAME_PIXEL_FORMAT_NV12=4]="FRAME_PIXEL_FORMAT_NV12",m[m.FRAME_PIXEL_FORMAT_RGBA=5]="FRAME_PIXEL_FORMAT_RGBA",m[m.FRAME_PIXEL_FORMAT_BGRA=6]="FRAME_PIXEL_FORMAT_BGRA",m[m.FRAME_PIXEL_FORMAT_Y=7]="FRAME_PIXEL_FORMAT_Y",(w=b||(b={}))[w.IMAGE_TRACKER_TYPE_PLANAR=0]="IMAGE_TRACKER_TYPE_PLANAR",w[w.IMAGE_TRACKER_TYPE_CYLINDRICAL=1]="IMAGE_TRACKER_TYPE_CYLINDRICAL",w[w.IMAGE_TRACKER_TYPE_CONICAL=2]="IMAGE_TRACKER_TYPE_CONICAL";const A=new Map;class T{constructor(e){this._gl=e,this._viewports=[],this._underlyingViewport=this._gl.viewport,this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT)),this._gl.viewport=(e,t,r,i)=>{this._viewports[this._viewports.length-1]=[e,t,r,i],this._underlyingViewport.call(this._gl,e,t,r,i)}}static get(e){let t=A.get(e);return t||(t=new T(e),A.set(e,t)),t}push(){this._viewports.push(this._viewports[this._viewports.length-1])}pop(){const e=this._viewports.pop(),t=this._viewports[this._viewports.length-1];e&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||this._underlyingViewport.call(this._gl,t[0],t[1],t[2],t[3])}}var k,x,R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},L={exports:{}};k=L,x=L.exports,function(e,t){var r="function",i="undefined",a="object",n="string",o="model",s="name",_="type",c="vendor",u="version",f="architecture",l="console",d="mobile",p="tablet",h="smarttv",m="wearable",b="embedded",w="Amazon",g="Apple",y="ASUS",v="BlackBerry",E="Browser",A="Chrome",T="Firefox",R="Google",L="Huawei",F="LG",z="Microsoft",M="Motorola",I="Opera",O="Samsung",P="Sharp",S="Sony",C="Xiaomi",B="Zebra",D="Facebook",U=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===n&&-1!==N(t).indexOf(N(e))},N=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===n)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},G=function(e,i){for(var n,o,s,_,c,u,f=0;f<i.length&&!c;){var l=i[f],d=i[f+1];for(n=o=0;n<l.length&&!c;)if(c=l[n++].exec(e))for(s=0;s<d.length;s++)u=c[++o],typeof(_=d[s])===a&&_.length>0?2===_.length?typeof _[1]==r?this[_[0]]=_[1].call(this,u):this[_[0]]=_[1]:3===_.length?typeof _[1]!==r||_[1].exec&&_[1].test?this[_[0]]=u?u.replace(_[1],_[2]):t:this[_[0]]=u?_[1].call(this,u,_[2]):t:4===_.length&&(this[_[0]]=u?_[3].call(this,u.replace(_[1],_[2])):t):this[_]=u||t;f+=2}},W=function(e,r){for(var i in r)if(typeof r[i]===a&&r[i].length>0){for(var n=0;n<r[i].length;n++)if(V(r[i][n],e))return"?"===i?t:i}else if(V(r[i],e))return"?"===i?t:i;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,u],[/opios[\/ ]+([\w\.]+)/i],[u,[s,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[u,[s,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,u],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[s,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[u,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[u,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[u,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure "+E],u],[/\bfocus\/([\w\.]+)/i],[u,[s,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[u,[s,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[s,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[u,[s,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 "+E],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,u],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,D],u],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[s,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,A+" WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[s,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,u],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[u,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[u,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[s,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,u],[/(cobalt)\/([\w\.]+)/i],[s,[u,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,N]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",N]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,N]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[c,O],[_,p]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[c,O],[_,d]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[c,g],[_,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[c,g],[_,p]],[/(macintosh);/i],[o,[c,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[c,L],[_,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[o,[c,L],[_,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[c,C],[_,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[c,C],[_,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[c,"OPPO"],[_,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[c,"Vivo"],[_,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[c,"Realme"],[_,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[c,M],[_,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[c,M],[_,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[c,F],[_,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[c,F],[_,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[c,"Lenovo"],[_,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[c,"Nokia"],[_,d]],[/(pixel c)\b/i],[o,[c,R],[_,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[c,R],[_,d]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[c,S],[_,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[c,S],[_,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[c,"OnePlus"],[_,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[c,w],[_,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[c,w],[_,d]],[/(playbook);[-\w\),; ]+(rim)/i],[o,c,[_,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[c,v],[_,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[c,y],[_,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[c,y],[_,d]],[/(nexus 9)/i],[o,[c,"HTC"],[_,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[c,[o,/_/g," "],[_,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[c,"Acer"],[_,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[c,"Meizu"],[_,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[c,P],[_,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,o,[_,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,o,[_,p]],[/(surface duo)/i],[o,[c,z],[_,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[c,"Fairphone"],[_,d]],[/(u304aa)/i],[o,[c,"AT&T"],[_,d]],[/\bsie-(\w*)/i],[o,[c,"Siemens"],[_,d]],[/\b(rct\w+) b/i],[o,[c,"RCA"],[_,p]],[/\b(venue[\d ]{2,7}) b/i],[o,[c,"Dell"],[_,p]],[/\b(q(?:mv|ta)\w+) b/i],[o,[c,"Verizon"],[_,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[c,"Barnes & Noble"],[_,p]],[/\b(tm\d{3}\w+) b/i],[o,[c,"NuVision"],[_,p]],[/\b(k88) b/i],[o,[c,"ZTE"],[_,p]],[/\b(nx\d{3}j) b/i],[o,[c,"ZTE"],[_,d]],[/\b(gen\d{3}) b.+49h/i],[o,[c,"Swiss"],[_,d]],[/\b(zur\d{3}) b/i],[o,[c,"Swiss"],[_,p]],[/\b((zeki)?tb.*\b) b/i],[o,[c,"Zeki"],[_,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],o,[_,p]],[/\b(ns-?\w{0,9}) b/i],[o,[c,"Insignia"],[_,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[c,"NextBook"],[_,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],o,[_,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],o,[_,d]],[/\b(ph-1) /i],[o,[c,"Essential"],[_,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[c,"Envizen"],[_,p]],[/\b(trio[-\w\. ]+) b/i],[o,[c,"MachSpeed"],[_,p]],[/\btu_(1491) b/i],[o,[c,"Rotor"],[_,p]],[/(shield[\w ]+) b/i],[o,[c,"Nvidia"],[_,p]],[/(sprint) (\w+)/i],[c,o,[_,d]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,z],[_,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[c,B],[_,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[c,B],[_,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,o,[_,l]],[/droid.+; (shield) bui/i],[o,[c,"Nvidia"],[_,l]],[/(playstation [345portablevi]+)/i],[o,[c,S],[_,l]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[c,z],[_,l]],[/smart-tv.+(samsung)/i],[c,[_,h]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,O],[_,h]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,F],[_,h]],[/(apple) ?tv/i],[c,[o,g+" TV"],[_,h]],[/crkey/i],[[o,A+"cast"],[c,R],[_,h]],[/droid.+aft(\w)( bui|\))/i],[o,[c,w],[_,h]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[o,[c,P],[_,h]],[/(bravia[\w ]+)( bui|\))/i],[o,[c,S],[_,h]],[/(mitv-\w{5}) bui/i],[o,[c,C],[_,h]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,q],[o,q],[_,h]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,h]],[/((pebble))app/i],[c,o,[_,m]],[/droid.+; (glass) \d/i],[o,[c,R],[_,m]],[/droid.+; (wt63?0{2,3})\)/i],[o,[c,B],[_,m]],[/(quest( 2)?)/i],[o,[c,D],[_,m]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[_,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[_,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[_,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,p]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,d]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,u],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[u,W,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[u,W,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[u,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,u],[/\(bb(10);/i],[u,[s,v]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[s,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[u,[s,A+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,u],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,u]]},X=function(r,l){if(typeof r===a&&(l=r,r=t),!(this instanceof X))return new X(r,l).getResult();var d=r||(typeof e!==i&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),p=l?function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r}(Y,l):Y;return this.getBrowser=function(){var e,r={};return r[s]=t,r[u]=t,G.call(r,d,p.browser),r.major=typeof(e=r.version)===n?e.replace(/[^\d\.]/g,"").split(".")[0]:t,r},this.getCPU=function(){var e={};return e[f]=t,G.call(e,d,p.cpu),e},this.getDevice=function(){var e={};return e[c]=t,e[o]=t,e[_]=t,G.call(e,d,p.device),e},this.getEngine=function(){var e={};return e[s]=t,e[u]=t,G.call(e,d,p.engine),e},this.getOS=function(){var e={};return e[s]=t,e[u]=t,G.call(e,d,p.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(e){return d=typeof e===n&&e.length>350?q(e,350):e,this},this.setUA(d),this};X.VERSION="1.0.33",X.BROWSER=U([s,u,"major"]),X.CPU=U([f]),X.DEVICE=U([o,c,_,l,d,h,p,m,b]),X.ENGINE=X.OS=U([s,u]),k.exports&&(x=k.exports=X),x.UAParser=X;var Z=typeof e!==i&&(e.jQuery||e.Zepto);if(Z&&!Z.ua){var j=new X;Z.ua=j.getResult(),Z.ua.get=function(){return j.getUA()},Z.ua.set=function(e){j.setUA(e);var t=j.getResult();for(var r in t)Z.ua[r]=t[r]}}}("object"==typeof window?window:R);var F,z,M=L.exports;(z=F||(F={}))[z.OBJECT_URL=0]="OBJECT_URL",z[z.SRC_OBJECT=1]="SRC_OBJECT";let I={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1,preferMediaStreamTrackProcessorCamera:!1,preferImageBitmapCamera:!1,ios164CameraSelection:!1,relyOnConstraintsForCameraSelection:!1,forceWindowOrientation:!1};"undefined"!=typeof window&&(window.zeeProfile=I,window.location.href.indexOf("_mstppipeline")>=0&&(I.preferMediaStreamTrackProcessorCamera=!0),window.location.href.indexOf("_imagebitmappipeline")>=0&&(I.preferImageBitmapCamera=!0));let O=new M.UAParser,P=(O.getOS().name||"unknown").toLowerCase(),S=(O.getEngine().name||"unknown").toLowerCase();if("webkit"===S&&"ios"!==P&&(I.deviceMotionMutliplier=1,"undefined"!=typeof window&&void 0!==window.orientation&&C("15.0")),"webkit"===S&&"ios"===P){I.deviceMotionMutliplier=1;C(O.getOS().version||"15.0")}function C(e){I.forceWindowOrientation=!0;let t=e.split(".");if(t.length>=2){const e=parseInt(t[0]),r=parseInt(t[1]);(e<11||11===e&&r<3)&&(I.blacklisted=!0),(e<12||12===e&&r<2)&&(I.videoElementInDOM=!0),(12===e&&r>=2||e>=13)&&(I.showGyroPermissionsWarningIfNecessary=!0),e>=13&&(I.showSafariPermissionsResetIfNecessary=!0),(e>=12&&r>1||e>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(I.requestHighFrameRate=!0,e<14&&(I.videoHeight=360,I.dataHeight=180)),16===e&&r>=4&&(I.ios164CameraSelection=!0),e>=17&&(I.relyOnConstraintsForCameraSelection=!0)}}function B(e,t,r){let i=e.createShader(t);if(!i)throw new Error("Unable to create shader");e.shaderSource(i,r),e.compileShader(i);let a=e.getShaderInfoLog(i);if(a&&a.trim().length>0)throw new Error("Shader compile error: "+a);return i}class D{constructor(e){this._gl=e,this._isPaused=!0,this._hadFrames=!1,this._isUserFacing=!1,this._cameraToScreenRotation=0,this._isUploadFrame=!0,this._computedTransformRotation=-1,this._computedFrontCameraRotation=!1,this._cameraUvTransform=y(),this._framebufferWidth=0,this._framebufferHeight=0,this._framebufferId=null,this._renderTexture=null,this._isWebGL2=!1,this._isWebGL2=e.getParameter(e.VERSION).indexOf("WebGL 2")>=0,this._isWebGL2||(this._instancedArraysExtension=this._gl.getExtension("ANGLE_instanced_arrays"))}resetGLContext(){this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}destroy(){this.resetGLContext()}uploadFrame(e,t,r,i){let a=this._gl;const n=T.get(a);n.push();const o=a.isEnabled(a.SCISSOR_TEST),s=a.isEnabled(a.DEPTH_TEST),_=a.isEnabled(a.BLEND),c=a.isEnabled(a.CULL_FACE),u=a.isEnabled(a.STENCIL_TEST),f=a.getParameter(a.ACTIVE_TEXTURE),l=a.getParameter(a.UNPACK_FLIP_Y_WEBGL),d=a.getParameter(a.CURRENT_PROGRAM);a.activeTexture(a.TEXTURE0);const p=a.getParameter(a.TEXTURE_BINDING_2D),h=a.getParameter(a.FRAMEBUFFER_BINDING),m=a.getParameter(a.ARRAY_BUFFER_BINDING),b=a.getParameter(a.ELEMENT_ARRAY_BUFFER_BINDING);a.disable(a.SCISSOR_TEST),a.disable(a.DEPTH_TEST),a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.STENCIL_TEST),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.bindTexture(a.TEXTURE_2D,e);const w=a.RGBA,g=a.RGBA,y=a.UNSIGNED_BYTE;a.texImage2D(a.TEXTURE_2D,0,w,g,y,t),"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?(t.videoWidth,t.videoHeight):(t.width,t.height),this._updateTransforms(r,i);let v=this._getFramebuffer(a,I.dataWidth/4,I.dataHeight),E=this._getVertexBuffer(a),A=this._getIndexBuffer(a),k=this._getGreyscaleShader(a);const x=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_SIZE),R=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_TYPE),L=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_NORMALIZED),F=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_STRIDE),z=a.getVertexAttribOffset(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_POINTER),M=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_ENABLED),O=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),P=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_SIZE),S=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_TYPE),C=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_NORMALIZED),B=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_STRIDE),D=a.getVertexAttribOffset(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_POINTER),U=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),V=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_ENABLED);let N=0,q=0;this._isWebGL2?(N=a.getVertexAttrib(k.aVertexPositionLoc,a.VERTEX_ATTRIB_ARRAY_DIVISOR),q=a.getVertexAttrib(k.aTextureCoordLoc,a.VERTEX_ATTRIB_ARRAY_DIVISOR),a.vertexAttribDivisor(k.aVertexPositionLoc,0),a.vertexAttribDivisor(k.aTextureCoordLoc,0)):this._instancedArraysExtension&&(N=a.getVertexAttrib(k.aVertexPositionLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),q=a.getVertexAttrib(k.aTextureCoordLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),this._instancedArraysExtension.vertexAttribDivisorANGLE(k.aVertexPositionLoc,0),this._instancedArraysExtension.vertexAttribDivisorANGLE(k.aTextureCoordLoc,0)),a.bindFramebuffer(a.FRAMEBUFFER,v),a.viewport(0,0,this._framebufferWidth,this._framebufferHeight),a.clear(a.COLOR_BUFFER_BIT),a.bindBuffer(a.ARRAY_BUFFER,E),a.vertexAttribPointer(k.aVertexPositionLoc,2,a.FLOAT,!1,16,0),a.enableVertexAttribArray(k.aVertexPositionLoc),a.vertexAttribPointer(k.aTextureCoordLoc,2,a.FLOAT,!1,16,8),a.enableVertexAttribArray(k.aTextureCoordLoc),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,A),a.useProgram(k.program),a.uniform1f(k.uTexWidthLoc,I.dataWidth),a.uniformMatrix4fv(k.uUvTransformLoc,!1,this._cameraUvTransform),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e),a.uniform1i(k.uSamplerLoc,0),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0),a.bindBuffer(a.ARRAY_BUFFER,O),a.vertexAttribPointer(k.aVertexPositionLoc,x,R,L,F,z),a.bindBuffer(a.ARRAY_BUFFER,U),a.vertexAttribPointer(k.aTextureCoordLoc,P,S,C,B,D),a.bindBuffer(a.ARRAY_BUFFER,m),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b),M||a.disableVertexAttribArray(k.aVertexPositionLoc),V||a.disableVertexAttribArray(k.aTextureCoordLoc),this._isWebGL2?(a.vertexAttribDivisor(k.aVertexPositionLoc,N),a.vertexAttribDivisor(k.aTextureCoordLoc,q)):this._instancedArraysExtension&&(this._instancedArraysExtension.vertexAttribDivisorANGLE(k.aVertexPositionLoc,N),this._instancedArraysExtension.vertexAttribDivisorANGLE(k.aTextureCoordLoc,q)),a.bindFramebuffer(a.FRAMEBUFFER,h),a.useProgram(d),a.bindTexture(a.TEXTURE_2D,p),a.activeTexture(f),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,l),n.pop(),_&&a.enable(a.BLEND),c&&a.enable(a.CULL_FACE),s&&a.enable(a.DEPTH_TEST),o&&a.enable(a.SCISSOR_TEST),u&&a.enable(a.STENCIL_TEST)}readFrame(e,t){let r=this._gl,i=new Uint8Array(t);const a=r.getParameter(r.FRAMEBUFFER_BINDING);let n=this._getFramebuffer(r,I.dataWidth/4,I.dataHeight);return r.bindFramebuffer(r.FRAMEBUFFER,n),r.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,a),{uvTransform:this._cameraUvTransform,data:t,texture:e,dataWidth:I.dataWidth,dataHeight:I.dataHeight,userFacing:this._computedFrontCameraRotation}}_updateTransforms(e,t){e==this._computedTransformRotation&&t==this._computedFrontCameraRotation||(this._computedTransformRotation=e,this._computedFrontCameraRotation=t,this._cameraUvTransform=this._getCameraUvTransform())}_getCameraUvTransform(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}_getFramebuffer(e,t,r){if(this._framebufferWidth===t&&this._framebufferHeight===r&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(e.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(e.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=e.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(e.bindFramebuffer(e.FRAMEBUFFER,this._framebufferId),this._renderTexture=e.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");e.activeTexture(e.TEXTURE0);const i=e.getParameter(e.TEXTURE_BINDING_2D);e.bindTexture(e.TEXTURE_2D,this._renderTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderTexture,0);let a=e.checkFramebufferStatus(e.FRAMEBUFFER);if(a!==e.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+a.toString());return this._framebufferWidth=t,this._framebufferHeight=r,e.bindTexture(e.TEXTURE_2D,i),e.bindFramebuffer(e.FRAMEBUFFER,null),this._framebufferId}_getVertexBuffer(e){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=e.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer);let t=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this._vertexBuffer}_getIndexBuffer(e){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=e.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer);let t=new Uint16Array([0,1,2,0,2,3]);return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),this._indexBuffer}_getGreyscaleShader(e){if(this._greyscaleShader)return this._greyscaleShader;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=B(e,e.VERTEX_SHADER,G),i=B(e,e.FRAGMENT_SHADER,W);e.attachShader(t,r),e.attachShader(t,i),function(e,t){e.linkProgram(t);let r=e.getProgramInfoLog(t);if(r&&r.trim().length>0)throw new Error("Unable to link: "+r)}(e,t);let a=e.getUniformLocation(t,"uTexWidth");if(!a)throw new Error("Unable to get uniform location uTexWidth");let n=e.getUniformLocation(t,"uUvTransform");if(!n)throw new Error("Unable to get uniform location uUvTransform");let o=e.getUniformLocation(t,"uSampler");if(!o)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:t,aVertexPositionLoc:e.getAttribLocation(t,"aVertexPosition"),aTextureCoordLoc:e.getAttribLocation(t,"aTextureCoord"),uTexWidthLoc:a,uUvTransformLoc:n,uSamplerLoc:o},this._greyscaleShader}}let U,V,N,q,G="\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    varying highp vec2 vTextureCoord1;\n    varying highp vec2 vTextureCoord2;\n    varying highp vec2 vTextureCoord3;\n    varying highp vec2 vTextureCoord4;\n\n    uniform float uTexWidth;\n\tuniform mat4 uUvTransform;\n\n    void main(void) {\n      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);\n      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);\n\n      gl_Position = aVertexPosition;\n      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;\n      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;\n      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;\n      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;\n    }\n",W="\n  varying highp vec2 vTextureCoord1;\n  varying highp vec2 vTextureCoord2;\n  varying highp vec2 vTextureCoord3;\n  varying highp vec2 vTextureCoord4;\n\n  uniform sampler2D uSampler;\n\n  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);\n\n  void main(void) {\n    lowp vec4 outpx;\n\n    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);\n    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);\n    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);\n    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);\n\n    gl_FragColor = outpx;\n  }\n";function H(e,t,r,i){const[a,n]=function(){if(!N||!q){const e=new OffscreenCanvas(1,1);if(q=e.getContext("webgl"),!q)throw new Error("Unable to get offscreen GL context");N=new D(q)}return[N,q]}();if(V||(V=n.createTexture(),n.bindTexture(n.TEXTURE_2D,V),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)),!V)return;(!U||U.byteLength<I.dataWidth*I.dataHeight)&&(U=new ArrayBuffer(I.dataWidth*I.dataHeight)),a.uploadFrame(V,e.i,e.r,e.userFacing);let o=a.readFrame(V,U),s={t:"imageBitmapS2C",dataWidth:o.dataWidth,dataHeight:o.dataHeight,frame:e.i,userFacing:o.userFacing,uvTransform:o.uvTransform||y(),tokenId:e.tokenId,p:e.p};i.postOutgoingMessage(s,[e.i]);let _=r._pipeline_by_instance.get(e.p);_&&(t.pipeline_camera_frame_submit(_,U,o.dataWidth,o.dataHeight,e.tokenId,e.cameraToDevice,e.cameraModel,o.userFacing),t.pipeline_frame_update(_),r.exploreState())}var Y=function(e,t,r,i){return new(r||(r=Promise))(function(a,n){function o(e){try{_(i.next(e))}catch(t){n(t)}}function s(e){try{_(i.throw(e))}catch(t){n(t)}}function _(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}_((i=i.apply(e,t||[])).next())})};let X=new class{constructor(){this.onOutgoingMessage=new n,this.onIncomingMessage=new o,this._outgoingMessages=[]}postIncomingMessage(e){this.onIncomingMessage.emit(e)}postOutgoingMessage(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let e=this._outgoingMessages;return this._outgoingMessages=[],e}},Z=0;function j(e){return Y(this,void 0,void 0,function*(){let r=t({locateFile:(t,r)=>t.endsWith("zappar-cv.wasm")?e:r+t,onRuntimeInitialized:()=>{let e=function(e){let t=e.cwrap("zappar_log_level","number",[]),r=e.cwrap("zappar_log_level_set",null,["number"]),i=e.cwrap("zappar_analytics_project_id_set",null,["string","string"]),a=e.cwrap("zappar_pipeline_create","number",[]),n=e.cwrap("zappar_pipeline_destroy",null,["number"]),o=e.cwrap("zappar_pipeline_frame_update",null,["number"]),s=e.cwrap("zappar_pipeline_frame_number","number",["number"]),_=e.cwrap("zappar_pipeline_camera_model","number",["number"]),c=e.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),u=e.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number"]),f=e.cwrap("zappar_pipeline_camera_frame_submit_raw_pointer",null,["number","number","number","number","number","number","number","number","number","number","number"]),l=e.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),d=e.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),p=e.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),h=e.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),m=e.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),b=e.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),w=e.cwrap("zappar_camera_source_create","number",["number","string"]),g=e.cwrap("zappar_camera_source_destroy",null,["number"]),y=e.cwrap("zappar_sequence_source_create","number",["number"]),v=e.cwrap("zappar_sequence_source_destroy",null,["number"]),E=e.cwrap("zappar_image_tracker_create","number",["number"]),A=e.cwrap("zappar_image_tracker_destroy",null,["number"]),T=e.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),k=e.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),x=e.cwrap("zappar_image_tracker_enabled","number",["number"]),R=e.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),L=e.cwrap("zappar_image_tracker_anchor_count","number",["number"]),F=e.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),z=e.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),M=e.cwrap("zappar_face_tracker_create","number",["number"]),I=e.cwrap("zappar_face_tracker_destroy",null,["number"]),O=e.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),P=e.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),S=e.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),C=e.cwrap("zappar_face_tracker_enabled","number",["number"]),B=e.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),D=e.cwrap("zappar_face_tracker_max_faces","number",["number"]),U=e.cwrap("zappar_face_tracker_anchor_count","number",["number"]),V=e.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),N=e.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),q=e.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),G=e.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),W=e.cwrap("zappar_face_mesh_create","number",[]),H=e.cwrap("zappar_face_mesh_destroy",null,["number"]),Y=e.cwrap("zappar_face_landmark_create","number",["number"]),X=e.cwrap("zappar_face_landmark_destroy",null,["number"]),Z=e.cwrap("zappar_barcode_finder_create","number",["number"]),j=e.cwrap("zappar_barcode_finder_destroy",null,["number"]),K=e.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),J=e.cwrap("zappar_barcode_finder_enabled","number",["number"]),$=e.cwrap("zappar_barcode_finder_found_number","number",["number"]),Q=e.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),ee=e.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),te=e.cwrap("zappar_barcode_finder_formats","number",["number"]),re=e.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),ie=e.cwrap("zappar_instant_world_tracker_create","number",["number"]),ae=e.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),ne=e.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),oe=e.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),se=e.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),_e=e.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),ce=32,ue=e._malloc(ce);e._malloc(64);let fe=new Map,le=(t,r)=>{let i=fe.get(t);return(!i||i[0]<r)&&(i&&e._free(i[1]),i=[r,e._malloc(r)],fe.set(t,i)),i[1]};return{log_level:()=>t(),log_level_set:e=>r(e),analytics_project_id_set:(e,t)=>i(e,t),pipeline_create:()=>a(),pipeline_destroy:()=>{n()},pipeline_frame_update:e=>o(e),pipeline_frame_number:e=>s(e),pipeline_camera_model:t=>{let r=_(t),i=new Float32Array(6);return i.set(e.HEAPF32.subarray(r/4,6+r/4)),r=i,r},pipeline_camera_frame_user_data:e=>c(e),pipeline_camera_frame_submit:(t,r,i,a,n,o,s,_)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let c=ue,f=r.byteLength;e.HEAPU8.set(new Uint8Array(r),ue);let l=i,d=a,p=n,h=le(4,o.byteLength);e.HEAPF32.set(o,h/4);let m=le(5,s.byteLength);return e.HEAPF32.set(s,m/4),u(t,c,f,l,d,p,h,m,_?1:0)},pipeline_camera_frame_submit_raw_pointer:(t,r,i,a,n,o,s,_,c,u,l)=>{let d=r,p=i,h=a,m=n,b=o,w=s,g=le(6,_.byteLength);e.HEAPF32.set(_,g/4);let y=c,v=le(8,u.byteLength);return e.HEAPF32.set(u,v/4),f(t,d,p,h,m,b,w,g,y,v,l?1:0)},pipeline_camera_frame_camera_attitude:t=>{let r=l(t),i=new Float32Array(16);return i.set(e.HEAPF32.subarray(r/4,16+r/4)),r=i,r},pipeline_camera_frame_device_attitude:t=>{let r=d(t),i=new Float32Array(16);return i.set(e.HEAPF32.subarray(r/4,16+r/4)),r=i,r},pipeline_motion_accelerometer_submit:(e,t,r,i,a)=>p(e,t,r,i,a),pipeline_motion_rotation_rate_submit:(e,t,r,i,a)=>h(e,t,r,i,a),pipeline_motion_attitude_submit:(e,t,r,i,a)=>m(e,t,r,i,a),pipeline_motion_attitude_matrix_submit:(t,r)=>{let i=le(0,r.byteLength);return e.HEAPF32.set(r,i/4),b(t,i)},camera_source_create:(e,t)=>w(e,t),camera_source_destroy:()=>{g()},sequence_source_create:e=>y(e),sequence_source_destroy:()=>{v()},image_tracker_create:e=>E(e),image_tracker_destroy:()=>{A()},image_tracker_target_load_from_memory:(t,r)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let i=ue,a=r.byteLength;return e.HEAPU8.set(new Uint8Array(r),ue),T(t,i,a)},image_tracker_target_loaded_version:e=>k(e),image_tracker_enabled:e=>{let t=x(e);return t=1===t,t},image_tracker_enabled_set:(e,t)=>R(e,t?1:0),image_tracker_anchor_count:e=>L(e),image_tracker_anchor_id:(e,t)=>F(e,t),image_tracker_anchor_pose_raw:(t,r)=>{let i=z(t,r),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(i/4,16+i/4)),i=a,i},face_tracker_create:e=>M(e),face_tracker_destroy:()=>{I()},face_tracker_model_load_from_memory:(t,r)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let i=ue,a=r.byteLength;return e.HEAPU8.set(new Uint8Array(r),ue),O(t,i,a)},face_tracker_model_loaded_version:e=>P(e),face_tracker_enabled_set:(e,t)=>S(e,t?1:0),face_tracker_enabled:e=>{let t=C(e);return t=1===t,t},face_tracker_max_faces_set:(e,t)=>B(e,t),face_tracker_max_faces:e=>D(e),face_tracker_anchor_count:e=>U(e),face_tracker_anchor_id:(e,t)=>V(e,t),face_tracker_anchor_pose_raw:(t,r)=>{let i=N(t,r),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(i/4,16+i/4)),i=a,i},face_tracker_anchor_identity_coefficients:(t,r)=>{let i=q(t,r),a=new Float32Array(50);return a.set(e.HEAPF32.subarray(i/4,50+i/4)),i=a,i},face_tracker_anchor_expression_coefficients:(t,r)=>{let i=G(t,r),a=new Float32Array(29);return a.set(e.HEAPF32.subarray(i/4,29+i/4)),i=a,i},face_mesh_create:()=>W(),face_mesh_destroy:()=>{H()},face_landmark_create:e=>Y(e),face_landmark_destroy:()=>{X()},barcode_finder_create:e=>Z(e),barcode_finder_destroy:()=>{j()},barcode_finder_enabled_set:(e,t)=>K(e,t?1:0),barcode_finder_enabled:e=>{let t=J(e);return t=1===t,t},barcode_finder_found_number:e=>$(e),barcode_finder_found_text:(e,t)=>Q(e,t),barcode_finder_found_format:(e,t)=>ee(e,t),barcode_finder_formats:e=>te(e),barcode_finder_formats_set:(e,t)=>re(e,t),instant_world_tracker_create:e=>ie(e),instant_world_tracker_destroy:()=>{ae()},instant_world_tracker_enabled_set:(e,t)=>ne(e,t?1:0),instant_world_tracker_enabled:e=>{let t=oe(e);return t=1===t,t},instant_world_tracker_anchor_pose_raw:t=>{let r=se(t),i=new Float32Array(16);return i.set(e.HEAPF32.subarray(r/4,16+r/4)),r=i,r},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(e,t,r,i,a)=>_e(e,t,r,i,a)}}(r),t=new a(e,(e,t)=>{X.postOutgoingMessage({p:e,t:"zappar",d:t},[t])});X.postOutgoingMessage("loaded",[]),X.onIncomingMessage.bind(i=>{var a;switch(i.t){case"zappar":t.processBuffer(i.d),X.postOutgoingMessage({t:"buf",d:i.d},[i.d]);break;case"buf":null===(a=t.serializersByPipelineId.get(i.p))||void 0===a||a.bufferReturn(i.d);break;case"cameraFrameC2S":{let r,a=i,n=t._pipeline_by_instance.get(a.p);n&&(e.pipeline_camera_frame_submit(n,a.d,a.width,a.height,a.token,a.c2d,a.cm,a.userFacing),e.pipeline_frame_update(n),r=e.pipeline_camera_frame_device_attitude(n),t.exploreState());let o={token:a.token,d:a.d,p:a.p,t:"cameraFrameRecycleS2C",att:r};X.postOutgoingMessage(o,[a.d]);break}case"streamC2S":{let a=i;!function(e,t,r,i,a,n,o){Y(this,void 0,void 0,function*(){const s=yield r.getReader();for(;;){let r=yield s.read();if(r.done)return;let _=r.value,c=_.allocationSize();c>J&&(K>0&&e._free(K),K=e._malloc(c),J=c),yield _.copyTo(e.HEAPU8.subarray(K,K+J));let u=$;$++;const f=_.visibleRect.width,l=_.visibleRect.height;let d,p=f,h=l;switch(Z){case 270:d=new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]),p=l,h=f;break;case 180:d=new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);break;case 90:d=new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1]),p=l,h=f;break;default:d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}let m=_.clone();a?E(Q,[-1,1,-1]):v(Q);let b=300*I.dataWidth/320;ee[0]=b,ee[1]=b,ee[2]=.5*I.dataWidth,ee[3]=.5*I.dataHeight;const w={token:u,d:m,p:i,t:"videoFrameS2C",userFacing:a,uvTransform:d,w:p,h:h,cameraToDevice:Q,cameraModel:ee,source:o};X.postOutgoingMessage(w,[w.d,w.uvTransform.buffer]);const g=n._pipeline_by_instance.get(i);g&&(t.pipeline_camera_frame_submit_raw_pointer(g,K,c,te(_.format),f,l,u,Q,Z,ee,a),t.pipeline_frame_update(g),n.exploreState()),_.close()}})}(r,e,a.s,a.p,a.userFacing,t,a.source);break}case"cameraToScreenC2S":Z=i.r;break;case"imageBitmapC2S":H(i,e,t,X);break}})}})})}let K=0,J=0,$=1;const Q=y(),ee=new Float32Array([300,300,160,120,0,0]);function te(e){switch(e){case"I420":return h.FRAME_PIXEL_FORMAT_I420;case"I420A":return h.FRAME_PIXEL_FORMAT_I420A;case"I422":return h.FRAME_PIXEL_FORMAT_I422;case"I444":return h.FRAME_PIXEL_FORMAT_I444;case"NV12":return h.FRAME_PIXEL_FORMAT_NV12;case"RGBA":case"RGBX":return h.FRAME_PIXEL_FORMAT_RGBA;case"BGRA":case"BGRX":return h.FRAME_PIXEL_FORMAT_BGRA}return h.FRAME_PIXEL_FORMAT_Y}const re=self;X.onOutgoingMessage.bind(()=>{let e=X.getOutgoingMessages();for(let t of e)re.postMessage(t.msg,t.transferables)});let ie=e=>{if(e&&e.data&&"wasm"===e.data.t){j(location.href.startsWith("blob")?e.data.url:new URL("/assets/zappar-cv-BCv-gc5z.wasm",self.location.href).toString()),re.removeEventListener("message",ie)}};re.addEventListener("message",ie),re.addEventListener("message",e=>{X.postIncomingMessage(e.data)})}();
