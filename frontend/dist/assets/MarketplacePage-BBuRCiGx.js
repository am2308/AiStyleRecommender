import{j as e,m as s,b as r,Z as a,a as t,x as l,T as i,ad as o,ac as n,w as c,y as d,E as m,p as x,h as p,aa as u}from"./vendor-ui-DQARcV5T.js";import{u as h,r as g}from"./vendor-react-CLKTprKu.js";import{r as y}from"./recommendationService-BFqlBOMy.js";import{F as f}from"./index-BDHgIuTY.js";import"./vendor-three-D8-qaPKY.js";const j=["Tops","Bottoms","Dresses","Outerwear","Footwear","Accessories"],b=["Black","White","Gray","Red","Blue","Green","Yellow","Purple","Pink","Brown","Orange","Multi"],v=["Casual","Work","Date Night","Party","Formal","Weekend","Travel"],w=()=>{const w=h(),[N,k]=g.useState([]),[P,C]=g.useState([]),[S,F]=g.useState(!1),[z,T]=g.useState(""),[M,E]=g.useState("grid"),[A,R]=g.useState({category:"",color:"",occasion:"",minPrice:"",maxPrice:""}),[B,D]=g.useState("recommended"),[H,I]=g.useState(0),[O,W]=g.useState([]),[G,U]=g.useState(!1);g.useEffect(()=>{const e=new URLSearchParams(w.search),s=e.get("smart"),r=e.get("category");"true"===s&&(U(!0),D("recommended"),r&&R(e=>({...e,category:r})))},[w]);const Y=async()=>{try{const e=await y.getTrendingItems(A.category||void 0);C(e.trending)}catch(e){C([])}},$=async()=>{if(z.trim())try{F(!0);const e=A.minPrice&&A.maxPrice?{min:parseFloat(A.minPrice),max:parseFloat(A.maxPrice)}:void 0,s=await y.searchMarketplace(z,A.category||void 0,e);k(s.products),I(s.totalCount),W(s.sources)}catch(e){k([])}finally{F(!1)}};g.useEffect(()=>{"recommended"===B?(async()=>{try{F(!0);const e=A.minPrice&&A.maxPrice?{min:parseFloat(A.minPrice),max:parseFloat(A.maxPrice)}:void 0,s=await y.getMarketplaceItems(A.category||void 0,A.color||void 0,A.occasion||void 0,e);k(s.items),I(s.totalCount),W(s.sources)}catch(e){k([])}finally{F(!1)}})():"trending"===B&&Y()},[A,B]),g.useEffect(()=>{Y()},[]);const K="trending"===B?P:N;return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx(f,{}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-3",children:e.jsx(r,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Fashion Marketplace"}),e.jsx("p",{className:"text-gray-600",children:"Discover trending fashion from top retailers worldwide"})]})]}),G&&e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-2",children:e.jsx(a,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"Smart Shopping Mode"}),e.jsx("p",{className:"text-sm text-green-700",children:"Showing items that will improve your outfit recommendations and wardrobe completeness."})]})]})}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[e.jsxs("button",{onClick:()=>D("recommended"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("recommended"===B?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(t,{className:"inline w-4 h-4 mr-2"}),"Recommended"]}),e.jsxs("button",{onClick:()=>D("search"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("search"===B?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(l,{className:"inline w-4 h-4 mr-2"}),"Search"]}),e.jsxs("button",{onClick:()=>D("trending"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+("trending"===B?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(i,{className:"inline w-4 h-4 mr-2"}),"Trending"]})]})]})}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:["search"===B&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search for clothing items...",value:z,onChange:e=>T(e.target.value),onKeyPress:e=>"Enter"===e.key&&$(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90"})]}),e.jsx("button",{onClick:$,disabled:!z.trim()||S,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:"Search"})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 flex-1",children:[e.jsx("div",{children:e.jsxs("select",{value:A.category,onChange:e=>R({...A,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[e.jsx("option",{value:"",children:"All Categories"}),j.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{children:e.jsxs("select",{value:A.color,onChange:e=>R({...A,color:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[e.jsx("option",{value:"",children:"All Colors"}),b.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{children:e.jsxs("select",{value:A.occasion,onChange:e=>R({...A,occasion:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90",children:[e.jsx("option",{value:"",children:"All Occasions"}),v.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"number",placeholder:"Min Price",value:A.minPrice,onChange:e=>R({...A,minPrice:e.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"number",placeholder:"Max Price",value:A.maxPrice,onChange:e=>R({...A,maxPrice:e.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/90"})]})}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>{R({category:"",color:"",occasion:"",minPrice:"",maxPrice:""}),T(""),U(!1)},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(n,{size:16,className:"inline mr-2"}),"Clear"]})})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>E("grid"),className:"p-2 rounded-md transition-colors "+("grid"===M?"bg-white shadow-sm text-purple-600":"text-gray-600"),children:e.jsx(c,{size:18})}),e.jsx("button",{onClick:()=>E("list"),className:"p-2 rounded-md transition-colors "+("list"===M?"bg-white shadow-sm text-purple-600":"text-gray-600"),children:e.jsx(d,{size:18})})]})})]}),(H>0||O.length>0)&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600 pt-4 border-t border-gray-200",children:[e.jsxs("span",{children:[H," items found"]}),O.length>0&&e.jsxs("span",{children:["Sources: ",O.join(", ")]})]})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-xl border border-white/20",children:S?e.jsx("div",{className:"flex justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Discovering fashion items..."})]})}):0===K.length?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-full p-6 w-24 h-24 mx-auto mb-6",children:e.jsx(r,{className:"h-12 w-12 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"search"===B?"No Results Found":"No Items Available"}),e.jsx("p",{className:"text-gray-600",children:"search"===B?"Try adjusting your search terms or filters.":"Try adjusting your filters to see more items."})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"trending"===B?"Trending Now":"Recommended for You"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[K.length," items"]})]}),e.jsx("div",{className:"grid gap-6 "+("grid"===M?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4":"grid-cols-1"),children:K.map((a,t)=>e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},whileHover:{y:-4,scale:1.02},className:"group bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all "+("list"===M?"flex":""),children:[e.jsxs("div",{className:`relative ${"list"===M?"w-32 h-32":"h-64"} bg-gray-100`,children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=400"}}),e.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-2",children:[e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white/90 rounded-full text-gray-700 hover:bg-white transition-colors",children:e.jsx(m,{size:16})}),e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white/90 rounded-full text-gray-700 hover:bg-white transition-colors",children:e.jsx(x,{size:16})})]}),e.jsxs("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm rounded-full px-2 py-1 text-xs font-medium text-gray-900 shadow-sm",children:["$",a.price.toFixed(2)]}),a.rating&&e.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-full px-2 py-1 text-xs font-medium text-gray-900 shadow-sm flex items-center",children:[e.jsx(p,{className:"w-3 h-3 text-yellow-400 mr-1 fill-current"}),a.rating.toFixed(1)]})]}),e.jsxs("div",{className:"p-4 "+("list"===M?"flex-1":""),children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.brand}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx("span",{children:a.category}),a.color&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:a.color})]})]}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:a.source})]}),a.condition&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Condition: ",a.condition]}),e.jsxs(s.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:a.url,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg",children:[e.jsx(r,{size:16}),e.jsxs("span",{children:["View on ",a.source]}),e.jsx(u,{size:12})]})]})]},a.id))})]})})]})})]})};export{w as default};
